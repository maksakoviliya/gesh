import G from"./Form-0fc3acaa.js";import{r as c,c as d,q as w,d as _,s as L,v as I,u,x as N,y as R,h as O,F as q,a as H,e as M,w as g,o as z,g as m,f as k,n as T,t as Y,O as J}from"./app-0a5b3c6f.js";import{t as V,H as C,c as Q,o as W,f as X,K as Z,e as ee,T as te,g as $}from"./AppLayout-4bd01642.js";import"./Breadcrumbs-9cb0c506.js";import"./ButtonComponent-997d2458.js";import"./Heading-272ad8e2.js";import"./index-d410e453.js";import"./useToasts-46905ae6.js";function ae(t){var o,l;let e=(o=t==null?void 0:t.form)!=null?o:t.closest("form");if(e){for(let a of e.elements)if(a!==t&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(l=e.requestSubmit)==null||l.call(e)}}function le(t,o,l){let e=c(l==null?void 0:l.value),a=d(()=>t.value!==void 0);return[d(()=>a.value?t.value:e.value),function(r){return a.value||(e.value=r),o==null?void 0:o(r)}]}let re=Symbol("DescriptionContext");function ne({slot:t=c({}),name:o="Description",props:l={}}={}){let e=c([]);function a(r){return e.value.push(r),()=>{let n=e.value.indexOf(r);n!==-1&&e.value.splice(n,1)}}return w(re,{register:a,slot:t,name:o,props:l}),d(()=>e.value.length>0?e.value.join(" "):void 0)}let j=Symbol("LabelContext");function D(){let t=N(j,null);if(t===null){let o=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(o,D),o}return t}function oe({slot:t={},name:o="Label",props:l={}}={}){let e=c([]);function a(r){return e.value.push(r),()=>{let n=e.value.indexOf(r);n!==-1&&e.value.splice(n,1)}}return w(j,{register:a,slot:t,name:o,props:l}),d(()=>e.value.length>0?e.value.join(" "):void 0)}let se=_({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${V()}`}},setup(t,{slots:o,attrs:l}){let e=D();return L(()=>I(e.register(t.id))),()=>{let{name:a="Label",slot:r={},props:n={}}=e,{id:f,passive:v,...b}=t,i={...Object.entries(n).reduce((y,[x,S])=>Object.assign(y,{[x]:u(S)}),{}),id:f};return v&&(delete i.onClick,delete i.htmlFor,delete b.onClick),C({ourProps:i,theirProps:b,slot:r,attrs:l,slots:o,name:a})}}}),P=Symbol("GroupContext"),ue=_({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:o,attrs:l}){let e=c(null),a=oe({name:"SwitchLabel",props:{htmlFor:d(()=>{var n;return(n=e.value)==null?void 0:n.id}),onClick(n){e.value&&(n.currentTarget.tagName==="LABEL"&&n.preventDefault(),e.value.click(),e.value.focus({preventScroll:!0}))}}}),r=ne({name:"SwitchDescription"});return w(P,{switchRef:e,labelledby:a,describedby:r}),()=>C({theirProps:t,ourProps:{},slot:{},slots:o,attrs:l,name:"SwitchGroup"})}}),ie=_({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${V()}`}},inheritAttrs:!1,setup(t,{emit:o,attrs:l,slots:e,expose:a}){let r=N(P,null),[n,f]=le(d(()=>t.modelValue),s=>o("update:modelValue",s),d(()=>t.defaultChecked));function v(){f(!n.value)}let b=c(null),i=r===null?b:r.switchRef,y=Q(d(()=>({as:t.as,type:l.type})),i);a({el:i,$el:i});function x(s){s.preventDefault(),v()}function S(s){s.key===$.Space?(s.preventDefault(),v()):s.key===$.Enter&&ae(s.currentTarget)}function B(s){s.preventDefault()}let h=d(()=>{var s,p;return(p=(s=W(i))==null?void 0:s.closest)==null?void 0:p.call(s,"form")});return L(()=>{R([h],()=>{if(!h.value||t.defaultChecked===void 0)return;function s(){f(t.defaultChecked)}return h.value.addEventListener("reset",s),()=>{var p;(p=h.value)==null||p.removeEventListener("reset",s)}},{immediate:!0})}),()=>{let{id:s,name:p,value:E,form:K,...U}=t,F={checked:n.value},A={id:s,ref:i,role:"switch",type:y.value,tabIndex:0,"aria-checked":n.value,"aria-labelledby":r==null?void 0:r.labelledby.value,"aria-describedby":r==null?void 0:r.describedby.value,onClick:x,onKeyup:S,onKeypress:B};return O(q,[p!=null&&n.value!=null?O(X,Z({features:ee.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:n.value,form:K,name:p,value:E})):null,C({ourProps:A,theirProps:{...l,...te(U,["modelValue","defaultChecked"])},slot:F,attrs:l,slots:e,name:"Switch"})])}}}),de=se;const pe={class:"mt-0 md:mt-32 max-w-md mx-auto w-full pb-32"},ce={class:"flex items-center gap-6 mx-auto"},me={class:"text-xl font-semibold leading-tight text-neutral-800"},fe=m("div",{class:"text-gray-600 leading-tight"},"Быстрое бронирование",-1),we={__name:"Step11",props:{apartment:Array|Object},setup(t){const o=t,l=H({fast_reserve:o.apartment.data.fast_reserve??!0}),e=()=>{l.transform(a=>({...a,step:11})).post(route("account.apartments.store",{apartment:o.apartment.data.id}))};return(a,r)=>(z(),M(G,{step:11,onOnNextStep:e,onOnPrevStep:r[1]||(r[1]=n=>u(J).visit(a.route("account.apartments.step",{apartment:t.apartment.data.id,step:10})))},{default:g(()=>[m("div",pe,[m("div",ce,[k(u(ue),null,{default:g(()=>[k(u(ie),{modelValue:u(l).fast_reserve,"onUpdate:modelValue":r[0]||(r[0]=n=>u(l).fast_reserve=n),class:T([u(l).fast_reserve?"bg-sky-600":"bg-gray-200","relative inline-flex h-[38px] w-[74px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75"])},{default:g(()=>[m("span",{"aria-hidden":"true",class:T([u(l).fast_reserve?"translate-x-9":"translate-x-0","pointer-events-none inline-block h-[34px] w-[34px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"]),k(u(de),{class:"cursor-pointer flex flex-col"},{default:g(()=>[m("div",me,"Быстрое бронирование "+Y(u(l).fast_reserve?"включено":"выключено"),1),fe]),_:1})]),_:1})])])]),_:1}))}};export{we as default};
