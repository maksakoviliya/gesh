import{l as v}from"./index-c88dca7a.js";import{c as k,g as w}from"./index.esm.min-4c4c202b.js";import{d as y,G as x,r as L,q as $,a as l,c,e as s,w as n,u as e,bI as C,bJ as N,bK as V,bL as B,bM as j,bN as z,g as i,t as I,F as M,b as S,l as E,bO as F,bP as U,f as q}from"./app-64a2ae74.js";const A={class:"h-[60vh] max-h-screen overflow-hidden rounded-xl relative shadow-lg"},D={class:"w-12 h-12 rounded-full overflow-hidden bg-white p-1 cursor-pointer"},G=["src","onClick"],H=["onClick"],J={class:"rounded-full w-full h-full flex items-center justify-center font-semibold text-sm text-neutral-800 bg-gray-300"},K={key:0,class:"absolute bottom-1/2 left-1/2 -translate-x-1/2 text-sky-500"},Q=y({__name:"Map",props:{lon:{type:[String,Number,null],default:87.98709856259356},lat:{type:[String,Number,null],default:52.92596754124867},markers:{type:Array,default:()=>[]},isInput:{type:Boolean,default:!0}},emits:["updateLon","updateLat"],setup(f,{emit:_}){const a=x(null),o=f,p=[o.lat,o.lon],u=_,h=b=>{u("updateLat",a.value.center[0]),u("updateLon",a.value.center[1])};k(v),L(document.documentElement.classList.contains("dark"));const g=$(()=>"light");return(b,d)=>(l(),c("div",A,[s(e(U),{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=t=>a.value=t),settings:{location:{center:p,zoom:13}},width:"100%",height:"100%"},{default:n(()=>[s(e(C),{settings:{onUpdate:h}},null,8,["settings"]),s(e(N),{settings:{position:"right"}},{default:n(()=>[s(e(V))]),_:1}),s(e(B),{settings:{theme:g.value}},null,8,["settings"]),s(e(j)),s(e(z),null,{cluster:n(({coordinates:t,length:m})=>[i("div",{class:"bg-white p-1 rounded-full w-12 h-12 cursor-pointer",onClick:r=>a.value.setLocation({coordinates:t,zoom:14})},[i("div",J,I(m),1)],8,H)]),default:n(()=>[(l(!0),c(M,null,S(o.markers,t=>(l(),E(e(F),{settings:{coordinates:t.center},key:t.img},{default:n(()=>[i("div",D,[i("img",{alt:"marker.img",class:"w-full h-full object-cover rounded-full",src:t.img,onClick:m=>{var r;return(r=a.value)==null?void 0:r.setLocation({center:t.center,zoom:12,duration:400})}},null,8,G)])]),_:2},1032,["settings"]))),128))]),_:1})]),_:1},8,["modelValue","settings"]),o.isInput?(l(),c("div",K,[s(e(w),{name:"hi-location-marker",scale:"2.8"})])):q("",!0)]))}});export{Q as _};
