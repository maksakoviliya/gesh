import{b as N,_ as O,q as B}from"./AppLayout-75b46fb7.js";import{_ as V}from"./Breadcrumbs-fdb3f0da.js";import{_ as R}from"./Heading-9c2c8dfb.js";import{_ as j}from"./EmptyState-6377419b.js";import{m as S,a as s,c as a,g as t,t as r,F as p,i as m,e as l,O as x,r as C,Q as F,j as u,w as _,f as h,b as L}from"./app-e90903ea.js";import"./index.esm.min-71e50db5.js";import"./index-c9040cbc.js";import{_ as H,a as M}from"./CardInList-16b0d910.js";import{T as A,_ as T}from"./Tab-5fa621cf.js";import"./index-33f57259.js";import"./ru-8c77810f.js";import"./ButtonComponent-cf24eb69.js";import"./Input-3006c2ea.js";import"./index-9ef572b0.js";import"./Avatar-f6d4abda.js";import"./useToasts-a9dad0a4.js";import"./index-53037d8b.js";import"./_plugin-vue_export-helper-c27b6911.js";const D={class:"rounded-lg border cursor-pointer hover:shadow-lg hover:bg-gray-50 transition"},E={class:"h-24 w-32 rounded-lg overflow-hidden"},I=["src"],Q={class:"flex flex-col justify-start"},U={class:"text-gray-600 font-light dark:text-slate-200"},z={class:"text-gray-400 font-light text-sm dark:text-slate-200"},G=["innerHTML"],J={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},K=t("dt",{class:"font-light leading-6 text-gray-600"},[t("div",null,"Даты:")],-1),P={class:"mt-1 font-medium leading-6 text-neutral-600"},W={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},X=t("dt",{class:"font-light leading-6 text-gray-600"},[t("div",null,"Ночи:")],-1),Y={class:"mt-1 font-medium leading-6 text-neutral-600"},Z={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},tt=t("dt",{class:"font-light leading-6 text-gray-600 dark:text-slate-300"},[t("div",null,"Гости:")],-1),et={class:"mt-1 font-medium leading-6 text-neutral-600 dark:text-slate-400"},st={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},rt=t("dt",{class:"font-light leading-6 text-gray-600"},[t("div",null,"Дети:")],-1),at={class:"mt-1 font-medium leading-6 text-neutral-600"},it={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},nt=t("dt",{class:"font-light leading-6 text-gray-600"},[t("div",null,"Стоимость:")],-1),ot={class:"mt-1 font-medium leading-6 text-neutral-600 flex items-center gap-2"},lt={__name:"ReservationRequestInList",props:{reservation_request:Object},setup(o){const e=o,g=S(()=>[`${e.reservation_request.apartment.guests}&nbsp;гостей`,`${e.reservation_request.apartment.bedrooms}&nbsp;спальня`,`${e.reservation_request.apartment.beds}&nbsp;кровать`,`${e.reservation_request.apartment.bathrooms}&nbsp;ванная`].filter(c=>!!c).join(" · ")),d=()=>{x.visit(route("apartment",{apartment:e.reservation_request.apartment.id}))},v=()=>{x.visit(route("account.apartments.chat",{apartment:e.reservation_request.apartment.id}))};return(f,c)=>{var i,n,y,b,q,k,$,w;return s(),a("div",D,[t("div",{class:"p-4 flex items-stretch gap-2",onClick:d},[t("div",E,[t("img",{src:(n=(i=e.reservation_request.apartment)==null?void 0:i.media[0])==null?void 0:n.src,class:"h-full w-full object-cover",alt:""},null,8,I)]),t("div",Q,[t("div",U,r(((y=e.reservation_request.apartment)==null?void 0:y.title)??((q=(b=e.reservation_request.apartment)==null?void 0:b.category)==null?void 0:q.title_single))+" ("+r((k=e.reservation_request.apartment)==null?void 0:k.city)+") ",1),t("div",z,r((w=($=e.reservation_request.apartment)==null?void 0:$.category)==null?void 0:w.title_single),1),t("div",{class:"font-light text-xs text-gray-600 mt-auto dark:text-slate-200",innerHTML:g.value},null,8,G)])]),t("dl",{class:"divide-y border-t",onClick:v},[t("div",J,[K,t("dd",P," с "+r(e.reservation_request.start)+" по "+r(e.reservation_request.end),1)]),t("div",W,[X,t("dd",Y,r(e.reservation_request.range)+" ночи",1)]),t("div",Z,[tt,t("dd",et,r(e.reservation_request.guests)+" гостей ",1)]),t("div",st,[rt,t("dd",at,[e.reservation_request.children?(s(),a(p,{key:0},[m(r(e.reservation_request.children)+" детей ",1)],64)):(s(),a(p,{key:1},[m(" - ")],64))])]),t("div",it,[nt,t("dd",ot,[m(r(e.reservation_request.price.toLocaleString())+"₽ ",1),l(H,{label:"Ожидает одобрения",type:"info"})])])])])}}},dt={class:"relative"},ct={key:0,class:"absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-blue-500 border-2 border-white rounded-full -top-2 -end-5 dark:border-gray-900"},ut={key:0},_t={key:1,class:"pt-4"},mt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},vt={key:1},ft={key:1,class:"pt-4"},pt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},St={__name:"List",props:{reservations:Object,reservation_requests:Object},setup(o){var f;const e=C([{id:"account",route:route("account.index"),label:"Аккаунт"},{id:"reservations",route:route("account.reservations.list"),label:"Мои бронирования"}]),g=F(),d=C(((f=g.props.query)==null?void 0:f.type)??"reservations"),v=c=>{const i=B.stringifyUrl({url:route(route().current()),query:{type:c}},{skipNull:!0});x.visit(i)};return(c,i)=>(s(),u(N,null,{default:_(()=>[l(O,{sm:!0},{default:_(()=>[l(V,{routes:e.value},null,8,["routes"]),l(R,{class:"mt-6",title:"Мои бронирования",subtitle:"Управляйте своими бронированиями"}),l(A,{class:"mt-8"},{default:_(()=>[l(T,{active:d.value==="reservations",onClick:i[0]||(i[0]=n=>v("reservations"))},{default:_(()=>[m("Бронирования")]),_:1},8,["active"]),l(T,{active:d.value==="reservation_requests",onClick:i[1]||(i[1]=n=>v("reservation_requests"))},{default:_(()=>[t("div",dt,[m(" Запросы на бронирование "),o.reservation_requests.data.length?(s(),a("div",ct,r(o.reservation_requests.data.length),1)):h("",!0)])]),_:1},8,["active"])]),_:1}),d.value==="reservations"?(s(),a("div",ut,[o.reservations.data.length?(s(),a("div",_t,[t("div",mt,[(s(!0),a(p,null,L(o.reservations.data,n=>(s(),u(M,{reservation:n},null,8,["reservation"]))),256))])])):(s(),u(j,{key:0,title:"Бронирований пока нет",subtitle:"После выбора объекта он появится здесь для управления оплатой, отменой и тд."}))])):h("",!0),d.value==="reservation_requests"?(s(),a("div",vt,[o.reservation_requests.data.length?(s(),a("div",ft,[t("div",pt,[(s(!0),a(p,null,L(o.reservation_requests.data,n=>(s(),u(lt,{key:n.id,reservation_request:n},null,8,["reservation_request"]))),128))])])):(s(),u(j,{key:0,title:"Бронирований пока нет",subtitle:"После выбора объекта он появится здесь для управления оплатой, отменой и тд."}))])):h("",!0)]),_:1})]),_:1}))}};export{St as default};
