import{d as b,bl as w,r as k,q as y,a as l,c,g as s,w as n,u as e,bP as $,bQ as x,bR as C,bS as L,bT as V,bU as j,e as i,t as B,F as N,b as S,l as M,bV as U,P as z,O as E,bW as F,i as I}from"./app-5e6f8128.js";import{j as O}from"./index-fcfb796a.js";import{c as P,g as R}from"./index.esm.min-6a74111b.js";const q={class:"h-[60vh] max-h-screen overflow-hidden rounded-xl relative shadow-lg"},A={class:"w-12 h-12 rounded-full overflow-hidden bg-white p-1 cursor-pointer group"},D=["src","onClick"],H={class:"bg-white p-1 rounded-full w-12 h-12 cursor-pointer"},Q={class:"rounded-full w-full h-full flex items-center justify-center font-semibold text-neutral-800 bg-gray-200"},T={key:0,class:"absolute bottom-1/2 left-1/2 -translate-x-1/2 text-sky-500"},K=b({__name:"Map",props:{lon:{type:[String,Number,null],default:87.98709856259356},lat:{type:[String,Number,null],default:52.92596754124867},markers:{type:Array,default:()=>[]},isInput:{type:Boolean,default:!0}},emits:["updateLon","updateLat"],setup(p,{emit:_}){const a=w(null),o=p,h=[o.lat,o.lon],u=_,g=d=>{u("updateLat",a.value.center[0]),u("updateLon",a.value.center[1])};P(O),k(document.documentElement.classList.contains("dark"));const v=y(()=>"light");return(d,m)=>(l(),c("div",q,[s(e(F),{modelValue:a.value,"onUpdate:modelValue":m[0]||(m[0]=t=>a.value=t),settings:{location:{center:h,zoom:13}},width:"100%",height:"100%"},{default:n(()=>[s(e($),{settings:{onUpdate:g}},null,8,["settings"]),s(e(x),{settings:{position:"right"}},{default:n(()=>[s(e(C))]),_:1}),s(e(L),{settings:{theme:v.value}},null,8,["settings"]),s(e(V)),s(e(j),null,{cluster:n(({coordinates:t,length:r})=>[i("div",H,[i("div",Q,B(r),1)])]),default:n(()=>[(l(!0),c(N,null,S(o.markers,t=>(l(),M(e(U),{settings:{coordinates:t.center},key:t.img,onClick:z(r=>e(E).visit(d.route("apartment",{apartment:t.id})),["prevent"])},{default:n(()=>[i("div",A,[i("img",{alt:"marker.img",class:"w-full h-full object-cover rounded-full group-hover:scale-110 transition",src:t.img,onClick:r=>{var f;return(f=a.value)==null?void 0:f.setLocation({center:t.center,zoom:12,duration:400})}},null,8,D)])]),_:2},1032,["settings","onClick"]))),128))]),_:1})]),_:1},8,["modelValue","settings"]),o.isInput?(l(),c("div",T,[s(e(R),{name:"hi-location-marker",scale:"2.8"})])):I("",!0)]))}});export{K as _};
