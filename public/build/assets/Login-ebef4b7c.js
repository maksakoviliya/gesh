import{a as V,r as v,i as b,f as a,u as o,w as i,F as g,o as m,Z as w,j as h,g as n,e as u,l as d}from"./app-d61f6bb3.js";import{_ as x,a as $}from"./PhoneInput-fc752f39.js";import{_ as k,a as p}from"./Heading-78f5340d.js";import{_ as f}from"./ButtonComponent-ead51c10.js";import{u as y}from"./useToasts-45c70187.js";import B from"./SocialAuth-2acf8dfb.js";const C={class:"flex flex-col gap-4"},E={class:"flex items-center gap-4"},N=n("hr",{class:"my-4"},null,-1),T={class:"flex flex-col gap-2"},R={__name:"Login",props:{canResetPassword:Boolean,status:String},setup(q){const e=V({email:"",phone:"",password:""}),{successToast:_}=y(),c=()=>{e.transform(t=>(r.value==="email"?delete t.phone:delete t.email,t)).post(route("login"),{onError:t=>e.setError("email",t.message),onFinish:()=>{_("Успешный вход в аккаунт."),e.reset("password")}})},r=v("phone");return(t,l)=>(m(),b(g,null,[a(o(w),{title:"Log in"}),a(x,{actionLabel:"Войти",handleSubmit:c},{title:i(()=>[h(" Вход ")]),body:i(()=>[n("div",C,[a(k,{title:"С возвращением",subtitle:"Войти в свой аккаунт"}),n("div",E,[a(f,{small:!0,onClick:l[0]||(l[0]=s=>r.value="phone"),outline:r.value!=="phone",label:"Телефон"},null,8,["outline"]),a(f,{small:!0,onClick:l[1]||(l[1]=s=>r.value="email"),outline:r.value!=="email",label:"Почта"},null,8,["outline"])]),r.value==="email"?(m(),u(p,{key:0,id:"email",modelValue:o(e).email,"onUpdate:modelValue":l[2]||(l[2]=s=>o(e).email=s),label:"Email",error:o(e).errors.email,required:""},null,8,["modelValue","error"])):d("",!0),r.value==="phone"?(m(),u($,{key:1,id:"phone",modelValue:o(e).phone,"onUpdate:modelValue":l[3]||(l[3]=s=>o(e).phone=s),label:"Телефон",error:o(e).errors.phone??o(e).errors.email,required:""},null,8,["modelValue","error"])):d("",!0),a(p,{id:"password",modelValue:o(e).password,"onUpdate:modelValue":l[4]||(l[4]=s=>o(e).password=s),label:"Пароль",error:o(e).errors.password,type:"password",required:""},null,8,["modelValue","error"])])]),footer:i(()=>[N,n("div",T,[a(B)])]),_:1})],64))}};export{R as default};
