import{_ as z,a as B,b as N,c as S}from"./Bedrooms-7da7a254.js";import{_ as u}from"./ButtonComponent-66eed39a.js";import{o as V,r as g,c as b,e,n as h,t as i,g as s,u as x,i as c,f as v,l as k,O as l,a as p}from"./app-28534f02.js";import{c as q,g as w}from"./index.esm.min-ea310d68.js";import{b as D,c as H}from"./index-fcfb796a.js";import{i as M,_ as A}from"./index-836ca34f.js";import{_ as E}from"./ModalConfirmDeleting-57b32770.js";import"./index-9ffa8bb0.js";import"./Heading-5374e520.js";const F={class:"col-span-1 cursor-pointer group"},L={class:"flex flex-col gap-2 w-full"},G={class:"aspect-square w-full relative overflow-hidden rounded-xl"},I=["src","alt"],J={class:"absolute top-3 start-3 opacity-0 group-hover:opacity-100 flex flex-col gap-2"},K=["data-tooltip-target"],P=["id"],Q=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),R=["data-tooltip-target"],U=["id"],W=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),X={class:"flex flex-row items-center gap-1"},Y={class:"text-neutral-500 dark:text-slate-500 leading-none font-light text-sm"},Z={class:"flex flex-row items-center justify-between gap-2"},tt={class:"relative"},dt={__name:"Card",props:{apartment:Object},setup(y){V(()=>{M()}),q(H,D);const t=y,m=()=>l.visit(route("account.apartments.step",{apartment:t.apartment.id,step:t.apartment.status!=="published"?t.apartment.step:1})),C=o=>{if(t.apartment.status==="published")return l.visit(route("account.apartments.calendar",{apartment:o}))},$=o=>{if(t.apartment.status==="published")return l.visit(route("account.apartments.chats",{apartment:o}))},T=o=>{switch(o){case"draft":return"bg-zinc-100 text-neutral-800";case"pending":return"bg-sky-100 text-neutral-800";case"published":return"bg-green-300 text-neutral-900"}},r=g("Копировать ссылку"),j=o=>{r.value="Скопировано",navigator.clipboard.writeText(route("apartment",{apartment:o})).then(()=>{r.value="Скопировано",setTimeout(()=>{r.value="Копировать ссылку"},1500)})},d=g(!1),O=()=>{l.visit(route("account.apartments.delete",{apartment:t.apartment.id}),{method:"post"})};return(o,a)=>{var f,_;return p(),b("div",F,[e("div",L,[e("div",G,[e("img",{onClick:m,class:"object-cover h-full w-full group-hover:scale-110 transition",src:t.apartment.media.length?(f=t.apartment.media[0])==null?void 0:f.src:"/img/no-photo.jpeg",alt:t.apartment.title},null,8,I),e("div",{class:h(["absolute top-3 end-3 px-2 rounded-full text-xs",T(t.apartment.status)])},i(t.apartment.status_text),3),e("div",J,[t.apartment.status==="published"?(p(),b("div",{key:0,"data-tooltip-target":`link_${t.apartment.id}`,onClick:a[0]||(a[0]=n=>j(t.apartment.id)),class:"px-2 rounded-full text-xs w-8 h-8 aspect-square flex flex-col items-center justify-center bg-neutral-100 text-neutral-800 hover:bg-white transition dark:hover:bg-slate-800 dark:hover:text-slate-100"},[s(x(w),{name:"hi-solid-link"})],8,K)):c("",!0),e("div",{id:`link_${t.apartment.id}`,role:"tooltip",class:"absolute z-20 break-words whitespace-nowrap invisible inline-block px-3 py-2 text-xs font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[v(i(r.value)+" ",1),Q],8,P),e("div",{onClick:a[1]||(a[1]=n=>d.value=!0),"data-tooltip-target":`delete_${t.apartment.id}`,class:"rounded-full text-xs bg-rose-300 flex w-7 h-7 flex-col items-center justify-center hover:bg-rose-400 transition text-neutral-800"},[s(x(w),{name:"hi-trash"})],8,R),e("div",{id:`delete_${t.apartment.id}`,role:"tooltip",class:"absolute z-20 break-words whitespace-nowrap invisible inline-block px-3 py-2 text-xs font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[v(" Удалить объект "),W],8,U)])]),e("div",{class:h(["font-light text-neutral-500 dark:text-slate-400",t.apartment.category?"":"opacity-30"])},i(((_=t.apartment.category)==null?void 0:_.title)??"Нет типа"),3),e("div",X,[e("span",Y,i(t.apartment.address),1)]),e("div",Z,[s(z,{guests:t.apartment.guests},null,8,["guests"]),s(B,{bedrooms:t.apartment.bedrooms},null,8,["bedrooms"]),s(N,{beds:t.apartment.beds},null,8,["beds"]),s(S,{bathrooms:t.apartment.bathrooms},null,8,["bathrooms"])]),s(u,{small:!0,onClick:m,label:"Редактировать"}),t.apartment.status==="published"?(p(),k(u,{key:0,onClick:a[2]||(a[2]=n=>C(t.apartment.id)),small:!0,label:"Календарь"})):c("",!0),e("div",tt,[t.apartment.status==="published"?(p(),k(u,{key:0,onClick:a[3]||(a[3]=n=>$(t.apartment.id)),small:!0,outline:!0,label:"Чат"})):c("",!0),s(A,{count:t.apartment.reservation_requests_count},null,8,["count"])])]),s(E,{"is-open":d.value,onOnSubmit:O,onOnClose:a[4]||(a[4]=n=>d.value=!1)},null,8,["is-open"])])}}};export{dt as default};
