import{_ as y,a as C,b as $,c as T}from"./Bedrooms-6aaf0d1f.js";import{c as j,_ as i,g as B}from"./ButtonComponent-1da5bb89.js";import{o as N,r as V,c as g,g as e,n as h,t as d,e as n,u as z,f as o,i as O,m as p,O as u,a as r}from"./app-9fbfeb9b.js";import{i as S,b as q}from"./index-62373370.js";import"./index-9fd3a973.js";const D={class:"col-span-1 cursor-pointer group"},E={class:"flex flex-col gap-2 w-full"},F={class:"aspect-square w-full relative overflow-hidden rounded-xl"},H=["src","alt"],L={class:"absolute top-3 start-3"},M=["data-tooltip-target"],A=["id"],G=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),I=e("div",{class:"flex flex-row items-center gap-1"},null,-1),J={class:"flex flex-row items-center justify-between gap-2"},W={__name:"Card",props:{apartment:Object},setup(_){N(()=>{S()}),j(q);const t=_,c=()=>t.apartment.status==="draft"?u.visit(route("account.apartments.step",{apartment:t.apartment.id,step:t.apartment.step})):u.visit(route("account.apartments.edit",{apartment:t.apartment.id})),x=a=>{if(t.apartment.status==="published")return u.visit(route("account.apartments.calendar",{apartment:a}))},v=a=>{if(t.apartment.status==="published")return u.visit(route("account.apartments.chats",{apartment:a}))},k=a=>{switch(a){case"draft":return"bg-zinc-100 text-neutral-800";case"pending":return"bg-sky-100 text-neutral-800";case"published":return"bg-green-300 text-neutral-900"}},l=V("Копировать ссылку"),w=a=>{l.value="Скопировано",navigator.clipboard.writeText(route("apartment",{apartment:a})).then(()=>{l.value="Скопировано",setTimeout(()=>{l.value="Копировать ссылку"},1500)})};return(a,s)=>{var m,b;return r(),g("div",D,[e("div",E,[e("div",F,[e("img",{onClick:c,class:"object-cover h-full w-full group-hover:scale-110 transition",src:t.apartment.media.length?(m=t.apartment.media[0])==null?void 0:m.src:"/img/no-photo.jpeg",alt:t.apartment.title},null,8,H),e("div",{class:h(["absolute top-3 right-3 px-2 rounded-full text-xs",k(t.apartment.status)])},d(t.apartment.status_text),3),e("div",L,[t.apartment.status==="published"?(r(),g("div",{key:0,"data-tooltip-target":`link_${t.apartment.id}`,onClick:s[0]||(s[0]=f=>w(t.apartment.id)),class:"px-2 rounded-full text-xs w-8 h-8 aspect-square flex flex-col items-center justify-center bg-transparent text-neutral-800 hover:bg-white transition dark:hover:bg-slate-800 dark:hover:text-slate-100"},[n(z(B),{name:"hi-solid-link"})],8,M)):o("",!0),e("div",{id:`link_${t.apartment.id}`,role:"tooltip",class:"absolute z-20 break-words whitespace-nowrap invisible inline-block px-3 py-2 text-xs font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[O(d(l.value)+" ",1),G],8,A)])]),e("div",{class:h(["font-light text-neutral-500 dark:text-slate-400",t.apartment.category?"":"opacity-30"])},d(((b=t.apartment.category)==null?void 0:b.title)??"Нет типа"),3),I,e("div",J,[n(y,{guests:t.apartment.guests},null,8,["guests"]),n(C,{bedrooms:t.apartment.bedrooms},null,8,["bedrooms"]),n($,{beds:t.apartment.beds},null,8,["beds"]),n(T,{bathrooms:t.apartment.bathrooms},null,8,["bathrooms"])]),t.apartment.status==="draft"?(r(),p(i,{key:0,small:!0,onClick:c,label:"Редактировать"})):o("",!0),t.apartment.status==="pending"?(r(),p(i,{key:1,disabled:!0,small:!0,label:"Редактировать"})):o("",!0),t.apartment.status==="published"?(r(),p(i,{key:2,onClick:s[1]||(s[1]=f=>x(t.apartment.id)),small:!0,label:"Календарь"})):o("",!0),t.apartment.status==="published"?(r(),p(i,{key:3,onClick:s[2]||(s[2]=f=>v(t.apartment.id)),small:!0,outline:!0,label:"Чат"})):o("",!0)])])}}};export{W as default};
