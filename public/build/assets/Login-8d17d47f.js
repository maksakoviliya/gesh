import{a as V,r as v,o as i,j as b,g as a,u as o,w as m,F as g,_ as w,q as h,i as n,f as u,m as p}from"./app-1fa6199a.js";import{_ as x,a as $}from"./PhoneInput-7a482ce9.js";import{_ as k}from"./Heading-32bd046d.js";import{_ as d}from"./Input-ac3f17a1.js";import{_ as f}from"./ButtonComponent-ba5a95ac.js";import{u as y}from"./useToasts-bf96e7f1.js";import B from"./SocialAuth-eb0c1c10.js";/* empty css                                              */const q={class:"flex flex-col gap-4"},C={class:"flex items-center gap-4"},E=n("hr",{class:"my-4"},null,-1),N={class:"flex flex-col gap-2"},z={__name:"Login",props:{canResetPassword:Boolean,status:String},setup(T){const e=V({email:"",phone:"",password:""}),{successToast:_}=y(),c=()=>{e.transform(t=>(r.value==="email"?delete t.phone:delete t.email,t)).post(route("login"),{onError:t=>e.setError("email",t.message),onFinish:()=>{_("Успешный вход в аккаунт."),e.reset("password")}})},r=v("phone");return(t,l)=>(i(),b(g,null,[a(o(w),{title:"Log in"}),a(x,{actionLabel:"Войти",handleSubmit:c},{title:m(()=>[h(" Вход ")]),body:m(()=>[n("div",q,[a(k,{title:"С возвращением",subtitle:"Войти в свой аккаунт"}),n("div",C,[a(f,{small:!0,onClick:l[0]||(l[0]=s=>r.value="phone"),outline:r.value!=="phone",label:"Телефон"},null,8,["outline"]),a(f,{small:!0,onClick:l[1]||(l[1]=s=>r.value="email"),outline:r.value!=="email",label:"Почта"},null,8,["outline"])]),r.value==="email"?(i(),u(d,{key:0,id:"email",modelValue:o(e).email,"onUpdate:modelValue":l[2]||(l[2]=s=>o(e).email=s),label:"Email",error:o(e).errors.email,required:""},null,8,["modelValue","error"])):p("",!0),r.value==="phone"?(i(),u($,{key:1,id:"phone",modelValue:o(e).phone,"onUpdate:modelValue":l[3]||(l[3]=s=>o(e).phone=s),label:"Телефон",error:o(e).errors.phone??o(e).errors.email,required:""},null,8,["modelValue","error"])):p("",!0),a(d,{id:"password",modelValue:o(e).password,"onUpdate:modelValue":l[4]||(l[4]=s=>o(e).password=s),label:"Пароль",error:o(e).errors.password,type:"password",required:""},null,8,["modelValue","error"])])]),footer:m(()=>[E,n("div",N,[a(B)])]),_:1})],64))}};export{z as default};
