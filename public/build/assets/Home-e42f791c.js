import{_ as U}from"./EmptyState-dd687e56.js";import{r as J,a as v,c as L,g,l as S,w as $,F,b as V,u as j,t as O,n as K,e as _,i as E,O as X,m as Q,v as W}from"./app-6e53b3e2.js";import{_ as Z,a as ee,b as te,c as ae}from"./Bedrooms-72847c59.js";import{e as se,b as N,c as re,d as ie,N as ne,a as le,S as oe}from"./navigation-6df7c7c2.js";import{_ as ce}from"./Pagination-6190a004.js";import{e as pe,_ as de}from"./AppLayout-f58db11d.js";import{_ as me,a as ue}from"./ViewToggler-944118b2.js";import{c as fe,g as ge}from"./index.esm.min-844a725e.js";import{n as he}from"./index-8e9ebee5.js";import"./Heading-c26d9958.js";import"./ButtonComponent-4a5bd335.js";import"./index-a164c907.js";import"./Input-9d7a287c.js";import"./index-9ef572b0.js";import"./Avatar-a6ff729c.js";import"./index-a5bac404.js";import"./useToasts-e47adfb5.js";function I(l){return l===void 0&&(l=""),`.${l.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function _e(l){let{swiper:e,extendParams:d,on:o,emit:C}=l;const m="swiper-pagination";d({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${m}-bullet`,bulletActiveClass:`${m}-bullet-active`,modifierClass:`${m}-`,currentClass:`${m}-current`,totalClass:`${m}-total`,hiddenClass:`${m}-hidden`,progressbarFillClass:`${m}-progressbar-fill`,progressbarOppositeClass:`${m}-progressbar-opposite`,clickableClass:`${m}-clickable`,lockClass:`${m}-lock`,horizontalClass:`${m}-horizontal`,verticalClass:`${m}-vertical`,paginationDisabledClass:`${m}-disabled`}}),e.pagination={el:null,bullets:[]};let x,b=0;const h=t=>(Array.isArray(t)?t:[t]).filter(a=>!!a);function H(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function M(t,a){const{bulletActiveClass:s}=e.params.pagination;t&&(t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&(t.classList.add(`${s}-${a}`),t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&t.classList.add(`${s}-${a}-${a}`)))}function q(t){const a=t.target.closest(I(e.params.pagination.bulletClass));if(!a)return;t.preventDefault();const s=N(a)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===s)return;e.slideToLoop(s)}else e.slideTo(s)}function w(){const t=e.rtl,a=e.params.pagination;if(H())return;let s=e.pagination.el;s=h(s);let r,u;const k=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,P=e.params.loop?Math.ceil(k/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(u=e.previousRealIndex||0,r=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(r=e.snapIndex,u=e.previousSnapIndex):(u=e.previousIndex||0,r=e.activeIndex||0),a.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const i=e.pagination.bullets;let y,f,A;if(a.dynamicBullets&&(x=se(i[0],e.isHorizontal()?"width":"height",!0),s.forEach(n=>{n.style[e.isHorizontal()?"width":"height"]=`${x*(a.dynamicMainBullets+4)}px`}),a.dynamicMainBullets>1&&u!==void 0&&(b+=r-(u||0),b>a.dynamicMainBullets-1?b=a.dynamicMainBullets-1:b<0&&(b=0)),y=Math.max(r-b,0),f=y+(Math.min(i.length,a.dynamicMainBullets)-1),A=(f+y)/2),i.forEach(n=>{const c=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(p=>`${a.bulletActiveClass}${p}`)].map(p=>typeof p=="string"&&p.includes(" ")?p.split(" "):p).flat();n.classList.remove(...c)}),s.length>1)i.forEach(n=>{const c=N(n);c===r?n.classList.add(...a.bulletActiveClass.split(" ")):e.isElement&&n.setAttribute("part","bullet"),a.dynamicBullets&&(c>=y&&c<=f&&n.classList.add(...`${a.bulletActiveClass}-main`.split(" ")),c===y&&M(n,"prev"),c===f&&M(n,"next"))});else{const n=i[r];if(n&&n.classList.add(...a.bulletActiveClass.split(" ")),e.isElement&&i.forEach((c,p)=>{c.setAttribute("part",p===r?"bullet-active":"bullet")}),a.dynamicBullets){const c=i[y],p=i[f];for(let B=y;B<=f;B+=1)i[B]&&i[B].classList.add(...`${a.bulletActiveClass}-main`.split(" "));M(c,"prev"),M(p,"next")}}if(a.dynamicBullets){const n=Math.min(i.length,a.dynamicMainBullets+4),c=(x*n-x)/2-A*x,p=t?"right":"left";i.forEach(B=>{B.style[e.isHorizontal()?p:"top"]=`${c}px`})}}s.forEach((i,y)=>{if(a.type==="fraction"&&(i.querySelectorAll(I(a.currentClass)).forEach(f=>{f.textContent=a.formatFractionCurrent(r+1)}),i.querySelectorAll(I(a.totalClass)).forEach(f=>{f.textContent=a.formatFractionTotal(P)})),a.type==="progressbar"){let f;a.progressbarOpposite?f=e.isHorizontal()?"vertical":"horizontal":f=e.isHorizontal()?"horizontal":"vertical";const A=(r+1)/P;let n=1,c=1;f==="horizontal"?n=A:c=A,i.querySelectorAll(I(a.progressbarFillClass)).forEach(p=>{p.style.transform=`translate3d(0,0,0) scaleX(${n}) scaleY(${c})`,p.style.transitionDuration=`${e.params.speed}ms`})}a.type==="custom"&&a.renderCustom?(i.innerHTML=a.renderCustom(e,r+1,P),y===0&&C("paginationRender",i)):(y===0&&C("paginationRender",i),C("paginationUpdate",i)),e.params.watchOverflow&&e.enabled&&i.classList[e.isLocked?"add":"remove"](a.lockClass)})}function z(){const t=e.params.pagination;if(H())return;const a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let s=e.pagination.el;s=h(s);let r="";if(t.type==="bullets"){let u=e.params.loop?Math.ceil(a/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&u>a&&(u=a);for(let k=0;k<u;k+=1)t.renderBullet?r+=t.renderBullet.call(e,k,t.bulletClass):r+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}t.type==="fraction"&&(t.renderFraction?r=t.renderFraction.call(e,t.currentClass,t.totalClass):r=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),t.type==="progressbar"&&(t.renderProgressbar?r=t.renderProgressbar.call(e,t.progressbarFillClass):r=`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],s.forEach(u=>{t.type!=="custom"&&(u.innerHTML=r||""),t.type==="bullets"&&e.pagination.bullets.push(...u.querySelectorAll(I(t.bulletClass)))}),t.type!=="custom"&&C("paginationRender",s[0])}function T(){e.params.pagination=re(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let a;typeof t.el=="string"&&e.isElement&&(a=e.el.querySelector(t.el)),!a&&typeof t.el=="string"&&(a=[...document.querySelectorAll(t.el)]),a||(a=t.el),!(!a||a.length===0)&&(e.params.uniqueNavElements&&typeof t.el=="string"&&Array.isArray(a)&&a.length>1&&(a=[...e.el.querySelectorAll(t.el)],a.length>1&&(a=a.filter(s=>ie(s,".swiper")[0]===e.el)[0])),Array.isArray(a)&&a.length===1&&(a=a[0]),Object.assign(e.pagination,{el:a}),a=h(a),a.forEach(s=>{t.type==="bullets"&&t.clickable&&s.classList.add(...(t.clickableClass||"").split(" ")),s.classList.add(t.modifierClass+t.type),s.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(s.classList.add(`${t.modifierClass}${t.type}-dynamic`),b=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&s.classList.add(t.progressbarOppositeClass),t.clickable&&s.addEventListener("click",q),e.enabled||s.classList.add(t.lockClass)}))}function D(){const t=e.params.pagination;if(H())return;let a=e.pagination.el;a&&(a=h(a),a.forEach(s=>{s.classList.remove(t.hiddenClass),s.classList.remove(t.modifierClass+t.type),s.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(s.classList.remove(...(t.clickableClass||"").split(" ")),s.removeEventListener("click",q))})),e.pagination.bullets&&e.pagination.bullets.forEach(s=>s.classList.remove(...t.bulletActiveClass.split(" ")))}o("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:a}=e.pagination;a=h(a),a.forEach(s=>{s.classList.remove(t.horizontalClass,t.verticalClass),s.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),o("init",()=>{e.params.pagination.enabled===!1?G():(T(),z(),w())}),o("activeIndexChange",()=>{typeof e.snapIndex>"u"&&w()}),o("snapIndexChange",()=>{w()}),o("snapGridLengthChange",()=>{z(),w()}),o("destroy",()=>{D()}),o("enable disable",()=>{let{el:t}=e.pagination;t&&(t=h(t),t.forEach(a=>a.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),o("lock unlock",()=>{w()}),o("click",(t,a)=>{const s=a.target,r=h(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&r&&r.length>0&&!s.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&s===e.navigation.nextEl||e.navigation.prevEl&&s===e.navigation.prevEl))return;const u=r[0].classList.contains(e.params.pagination.hiddenClass);C(u===!0?"paginationShow":"paginationHide"),r.forEach(k=>k.classList.toggle(e.params.pagination.hiddenClass))}});const Y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=h(t),t.forEach(a=>a.classList.remove(e.params.pagination.paginationDisabledClass))),T(),z(),w()},G=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=h(t),t.forEach(a=>a.classList.add(e.params.pagination.paginationDisabledClass))),D()};Object.assign(e.pagination,{enable:Y,disable:G,render:z,update:w,init:T,destroy:D})}const ve={class:"col-span-1 cursor-pointer group"},be={class:"flex flex-col gap-2 w-full h-full"},ye={class:"aspect-square w-full flex relative overflow-hidden rounded-xl"},Ce=["src","srcset","alt"],xe=["alt"],$e={class:"font-bold text-xl text-neutral-800 dark:text-white"},we={__name:"AppartmentsCard",props:{apartment:Object},setup(l){const e=l,d=()=>X.visit(route("apartment",e.apartment.id)),o=J([ne,_e]);return(C,m)=>{var x,b;return v(),L("div",ve,[g("div",be,[g("div",ye,[e.apartment.media.length?(v(),S(j(oe),{key:0,modules:o.value,navigation:!0,ver:C.ver},{default:$(()=>[(v(!0),L(F,null,V(e.apartment.media,h=>(v(),S(j(le),{key:h.id},{default:$(()=>[g("img",{onClick:d,class:"object-cover h-full w-full",src:h.src,srcset:h.srcset,alt:e.apartment.title},null,8,Ce)]),_:2},1024))),128))]),_:1},8,["modules","ver"])):(v(),L("img",{key:1,class:"object-cover h-full w-full",src:"/img/no-photo.jpeg",alt:e.apartment.title},null,8,xe))]),g("div",{class:"font-semibold text-lg dark:text-slate-200",onClick:d},O(e.apartment.title??((x=e.apartment.category)==null?void 0:x.title_single))+" ("+O(e.apartment.city)+") ",1),g("div",{onClick:d,class:K(["font-light text-neutral-500 dark:text-slate-300",e.apartment.category?"":"opacity-30"])},O(((b=e.apartment.category)==null?void 0:b.title_single)??"Нет типа"),3),g("div",{class:"flex flex-row items-center justify-between gap-2",onClick:d},[_(Z,{guests:e.apartment.guests},null,8,["guests"]),_(ee,{bedrooms:e.apartment.bedrooms},null,8,["bedrooms"]),_(te,{beds:e.apartment.beds},null,8,["beds"]),_(ae,{bathrooms:e.apartment.bathrooms},null,8,["bathrooms"])]),g("div",{class:"text-neutral-400 dark:text-slate-400",onClick:d},[g("span",$e,O(e.apartment.weekdays_price),1),E(" ₽ / ночь ")])])])}}},ke={class:"pt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 md:gap-8"},Be={__name:"Apartments",props:{apartments:Array|null},setup(l){return(e,d)=>l.apartments.data.length?(v(),L(F,{key:1},[g("div",ke,[(v(!0),L(F,null,V(l.apartments.data,o=>(v(),S(we,{key:o.id,apartment:o},null,8,["apartment"]))),128))]),_(ce,{class:"mt-6 flex justify-center",links:l.apartments.meta.links},null,8,["links"])],64)):(v(),S(U,{key:0,title:"Ничего не найдено",subtitle:"Не удалось найти жилья по вашему запросу","action-label":"Сбросить фильтр",onClick:d[0]||(d[0]=o=>j(X).visit(e.route("home")))}))}},Le=["srcset","src","alt"],Se=g("div",{class:"absolute inset-0 bg-neutral-800/60 group-hover:bg-neutral-800/50 transition"},null,-1),Ae={class:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 font-extrabold uppercase text-white dark:text-slate-200"},R={__name:"ServiceBannerLink",props:{href:{type:String},srcset:{type:String},src:{type:String},alt:{type:String}},setup(l){const e=l;return(d,o)=>(v(),S(j(W),{href:e.href,class:"block h-32 md:h-44 relative overflow-hidden rounded-lg group"},{default:$(()=>[g("img",{class:"absolute inset-0 object-cover object-center w-full top-1/2 -translate-y-1/2 group-hover:scale-110 transition",sizes:"(max-width: 960px) 100vw, 960px",srcset:e.srcset,src:e.src,alt:e.alt},null,8,Le),Se,g("div",Ae,[Q(d.$slots,"default")])]),_:3},8,["href"]))}},Ie={class:"grid gap-4 grid-cols-1 md:grid-cols-2 border-b dark:border-slate-700 pb-7"},je={__name:"ServicesBanner",setup(l){return(e,d)=>(v(),L("div",Ie,[_(R,{href:e.route("instructors.list"),srcset:`
						/img/ServicesBanner/Instructors/instructors_w_190.jpg 190w,
						/img/ServicesBanner/Instructors/instructors_w_372.jpg 372w,
						/img/ServicesBanner/Instructors/instructors_w_509.jpg 509w,
						/img/ServicesBanner/Instructors/instructors_w_631.jpg 631w,
						/img/ServicesBanner/Instructors/instructors_w_748.jpg 748w,
						/img/ServicesBanner/Instructors/instructors_w_851.jpg 851w,
						/img/ServicesBanner/Instructors/instructors_w_919.jpg 919w,
						/img/ServicesBanner/Instructors/instructors_w_960.jpg 960w
					`,src:"/img/ServicesBanner/Instructors/instructors_w_960.jpg",alt:"instructors"},{default:$(()=>[E(" Инструкторы ")]),_:1},8,["href"]),_(R,{href:e.route("transfer.index"),srcset:`
                /img/ServicesBanner/Transfer/transfer_w_190.jpg 190w,
                /img/ServicesBanner/Transfer/transfer_w_628.jpg 628w,
                /img/ServicesBanner/Transfer/transfer_w_850.jpg 850w,
                /img/ServicesBanner/Transfer/transfer_w_960.jpg 960w`,src:"/img/ServicesBanner/Transfer/transfer_w_960.jpg",alt:"transfer"},{default:$(()=>[E(" Трансфер ")]),_:1},8,["href"])]))}},Me={class:"flex text-sm font-semibold items-center gap-3"},ze=g("span",{class:"whitespace-nowrap"},"Показать карту",-1),Qe={__name:"Home",props:{categories:Array|null,apartments:Array|null},setup(l){return fe(he),(e,d)=>(v(),S(pe,null,{default:$(()=>[_(de,{class:"pb-32"},{default:$(()=>[_(je,{class:"mt-6"}),_(me,{categories:l.categories.data},null,8,["categories"]),_(Be,{apartments:l.apartments},null,8,["apartments"]),_(ue,{to:e.route("home.map")},{default:$(()=>[g("div",Me,[ze,_(j(ge),{name:"hi-map",scale:"1.2"})])]),_:1},8,["to"])]),_:1})]),_:1}))}};export{Qe as default};
