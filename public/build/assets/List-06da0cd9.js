import{c as N,_ as O,q as B}from"./AppLayout-e3f50ca7.js";import{_ as V}from"./Breadcrumbs-c62c7b48.js";import{_ as R}from"./Heading-da76dea8.js";import{_ as j}from"./EmptyState-12606526.js";import{q as S,a as s,c as a,g as e,t as r,F as g,i as m,e as l,O as x,r as C,Q as F,l as u,w as _,f as h,b as L}from"./app-2fce0b2c.js";import"./index.esm.min-529ba355.js";import"./index-cca90c3f.js";import{_ as H,a as M}from"./CardInList-79a8363f.js";import{T as A,_ as T}from"./Tab-e4518555.js";import"./ButtonComponent-d507043a.js";import"./Input-aa641bc2.js";import"./Avatar-38b42b26.js";import"./useToasts-ba0e55bd.js";import"./_plugin-vue_export-helper-c27b6911.js";const D={class:"rounded-lg border cursor-pointer hover:shadow-lg hover:bg-gray-50 transition"},E={class:"h-24 w-32 rounded-lg overflow-hidden"},I=["src"],Q={class:"flex flex-col justify-start"},U={class:"text-gray-600 font-light dark:text-slate-200"},z={class:"text-gray-400 font-light text-sm dark:text-slate-200"},G=["innerHTML"],J={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},K=e("dt",{class:"font-light leading-6 text-gray-600"},[e("div",null,"Даты:")],-1),P={class:"mt-1 font-medium leading-6 text-neutral-600"},W={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},X=e("dt",{class:"font-light leading-6 text-gray-600"},[e("div",null,"Ночи:")],-1),Y={class:"mt-1 font-medium leading-6 text-neutral-600"},Z={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},ee=e("dt",{class:"font-light leading-6 text-gray-600 dark:text-slate-300"},[e("div",null,"Гости:")],-1),te={class:"mt-1 font-medium leading-6 text-neutral-600 dark:text-slate-400"},se={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},re=e("dt",{class:"font-light leading-6 text-gray-600"},[e("div",null,"Дети:")],-1),ae={class:"mt-1 font-medium leading-6 text-neutral-600"},ie={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},ne=e("dt",{class:"font-light leading-6 text-gray-600"},[e("div",null,"Стоимость:")],-1),oe={class:"mt-1 font-medium leading-6 text-neutral-600 flex items-center gap-2"},le={__name:"ReservationRequestInList",props:{reservation_request:Object},setup(o){const t=o,p=S(()=>[`${t.reservation_request.apartment.guests}&nbsp;гостей`,`${t.reservation_request.apartment.bedrooms}&nbsp;спальня`,`${t.reservation_request.apartment.beds}&nbsp;кровать`,`${t.reservation_request.apartment.bathrooms}&nbsp;ванная`].filter(c=>!!c).join(" · ")),d=()=>{x.visit(route("apartment",{apartment:t.reservation_request.apartment.id}))},v=()=>{x.visit(route("account.apartments.chat",{apartment:t.reservation_request.apartment.id}))};return(f,c)=>{var i,n,y,b,q,k,$,w;return s(),a("div",D,[e("div",{class:"p-4 flex items-stretch gap-2",onClick:d},[e("div",E,[e("img",{src:(n=(i=t.reservation_request.apartment)==null?void 0:i.media[0])==null?void 0:n.src,class:"h-full w-full object-cover",alt:""},null,8,I)]),e("div",Q,[e("div",U,r(((y=t.reservation_request.apartment)==null?void 0:y.title)??((q=(b=t.reservation_request.apartment)==null?void 0:b.category)==null?void 0:q.title_single))+" ("+r((k=t.reservation_request.apartment)==null?void 0:k.city)+") ",1),e("div",z,r((w=($=t.reservation_request.apartment)==null?void 0:$.category)==null?void 0:w.title_single),1),e("div",{class:"font-light text-xs text-gray-600 mt-auto dark:text-slate-200",innerHTML:p.value},null,8,G)])]),e("dl",{class:"divide-y border-t",onClick:v},[e("div",J,[K,e("dd",P," с "+r(t.reservation_request.start)+" по "+r(t.reservation_request.end),1)]),e("div",W,[X,e("dd",Y,r(t.reservation_request.range)+" ночи",1)]),e("div",Z,[ee,e("dd",te,r(t.reservation_request.guests)+" гостей ",1)]),e("div",se,[re,e("dd",ae,[t.reservation_request.children?(s(),a(g,{key:0},[m(r(t.reservation_request.children)+" детей ",1)],64)):(s(),a(g,{key:1},[m(" - ")],64))])]),e("div",ie,[ne,e("dd",oe,[m(r(t.reservation_request.price.toLocaleString())+"₽ ",1),l(H,{label:"Ожидает одобрения",type:"info"})])])])])}}},de={class:"relative"},ce={key:0,class:"absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-blue-500 border-2 border-white rounded-full -top-2 -end-5 dark:border-gray-900"},ue={key:0},_e={key:1,class:"pt-4"},me={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ve={key:1},fe={key:1,class:"pt-4"},ge={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Oe={__name:"List",props:{reservations:Object,reservation_requests:Object},setup(o){var f;const t=C([{id:"account",route:route("account.index"),label:"Аккаунт"},{id:"reservations",route:route("account.reservations.list"),label:"Мои бронирования"}]),p=F(),d=C(((f=p.props.query)==null?void 0:f.type)??"reservations"),v=c=>{const i=B.stringifyUrl({url:route(route().current()),query:{type:c}},{skipNull:!0});x.visit(i)};return(c,i)=>(s(),u(N,null,{default:_(()=>[l(O,{sm:!0},{default:_(()=>[l(V,{routes:t.value},null,8,["routes"]),l(R,{class:"mt-6",title:"Мои бронирования",subtitle:"Управляйте своими бронированиями"}),l(A,{class:"mt-8"},{default:_(()=>[l(T,{active:d.value==="reservations",onClick:i[0]||(i[0]=n=>v("reservations"))},{default:_(()=>[m("Бронирования")]),_:1},8,["active"]),l(T,{active:d.value==="reservation_requests",onClick:i[1]||(i[1]=n=>v("reservation_requests"))},{default:_(()=>[e("div",de,[m(" Запросы на бронирование "),o.reservation_requests.data.length?(s(),a("div",ce,r(o.reservation_requests.data.length),1)):h("",!0)])]),_:1},8,["active"])]),_:1}),d.value==="reservations"?(s(),a("div",ue,[o.reservations.data.length?(s(),a("div",_e,[e("div",me,[(s(!0),a(g,null,L(o.reservations.data,n=>(s(),u(M,{reservation:n},null,8,["reservation"]))),256))])])):(s(),u(j,{key:0,title:"Бронирований пока нет",subtitle:"После выбора объекта он появится здесь для управления оплатой, отменой и тд."}))])):h("",!0),d.value==="reservation_requests"?(s(),a("div",ve,[o.reservation_requests.data.length?(s(),a("div",fe,[e("div",ge,[(s(!0),a(g,null,L(o.reservation_requests.data,n=>(s(),u(le,{key:n.id,reservation_request:n},null,8,["reservation_request"]))),128))])])):(s(),u(j,{key:0,title:"Бронирований пока нет",subtitle:"После выбора объекта он появится здесь для управления оплатой, отменой и тд."}))])):h("",!0)]),_:1})]),_:1}))}};export{Oe as default};
