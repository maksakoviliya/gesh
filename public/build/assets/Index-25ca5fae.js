import{c as C,_ as w}from"./AppLayout-e3f50ca7.js";import{T as N,_}from"./Tab-e4518555.js";import{Q as h,q,r as j,l as r,w as o,a as e,e as a,i as y,c as i,F as B,b as F,f as v,O as x,t as O}from"./app-2fce0b2c.js";import{_ as R}from"./Heading-da76dea8.js";import{_ as T}from"./Breadcrumbs-c62c7b48.js";import{_ as V}from"./EmptyState-12606526.js";import{_ as A}from"./Pagination-39136879.js";import D from"./NewReservationRequestNotification-51295441.js";import"./index.esm.min-529ba355.js";import"./index-cca90c3f.js";import"./ButtonComponent-d507043a.js";import"./Input-aa641bc2.js";import"./Avatar-38b42b26.js";import"./useToasts-ba0e55bd.js";import"./_plugin-vue_export-helper-c27b6911.js";const E={key:1,class:"mt-10"},I={key:1},L=["onClick"],at={__name:"Index",props:{notifications:{type:[Object,null]}},setup(k){const $=h(),l=q(()=>$.props.query.type??null),u=s=>{x.visit(route("account.notifications.index",s))},b=j([{id:"account",route:route("account.index"),label:"Аккаунт"},{id:"notifications",route:route("account.notifications.index"),label:"Уведомления"}]),c=k,g=s=>{x.visit(route("account.notifications.read",{notification:s}),{method:"post",only:["notifications"]})};return(s,n)=>(e(),r(C,null,{default:o(()=>[a(w,{sm:""},{default:o(()=>{var m,p;return[a(T,{routes:b.value},null,8,["routes"]),a(R,{class:"mt-8",title:"Уведомления"}),a(N,null,{default:o(()=>[a(_,{active:!l.value||l.value==="all",onClick:n[0]||(n[0]=t=>u({type:"all"}))},{default:o(()=>[y("Все")]),_:1},8,["active"]),a(_,{active:l.value==="unread",onClick:n[1]||(n[1]=t=>u({type:"unread"}))},{default:o(()=>[y("Непрочитанные")]),_:1},8,["active"])]),_:1}),((m=c.notifications.meta)==null?void 0:m.total)===0?(e(),r(V,{key:0,title:"Уведомлений не найдено",subtitle:"Попробуйте посмотерть в другом разделе или измените параметры поиска"})):(e(),i("div",E,[(e(!0),i(B,null,F(c.notifications.data,t=>{var d,f;return e(),i("div",{class:"relative overflow-x-auto shadow-md flex justify-between px-6 py-4 sm:rounded-lg text-sm text-left text-gray-500 dark:text-gray-400",key:t.id},[t.type==="App\\Notifications\\ReservationRequest\\CreatedNotification"&&((f=(d=t.data)==null?void 0:d.reservation_request)!=null&&f.apartment)?(e(),r(D,{key:0,notification:t},null,8,["notification"])):(e(),i("div",I,O(t.type),1)),t.read_at?v("",!0):(e(),i("button",{key:2,class:"font-medium text-blue-600 dark:text-blue-500 hover:underline",onClick:Q=>g(t.id)}," Прочитать ",8,L))])}),128))])),((p=c.notifications.meta)==null?void 0:p.last_page)>1?(e(),r(A,{key:2,class:"mt-8 w-full flex justify-center"})):v("",!0)]}),_:1})]),_:1}))}};export{at as default};
