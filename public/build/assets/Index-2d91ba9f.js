import{c as N,_ as B}from"./AppLayout-2e7e4880.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import{a as t,c as a,g,m as h,q as C,n as V,Q as j,r as F,l as d,w as n,e as r,i as y,F as O,b as R,f as b,O as k,t as T}from"./app-e2f13dfb.js";import{_ as A}from"./Heading-199c20a7.js";import{_ as S}from"./Breadcrumbs-ac47bedf.js";import{_ as z}from"./EmptyState-879196ba.js";import{_ as D}from"./Pagination-dfdf0f08.js";import E from"./NewReservationRequestNotification-7303b8f3.js";import"./index.esm.min-1cefd7d2.js";import"./index-d3cae2c1.js";import"./ButtonComponent-122c972d.js";import"./Input-215f4659.js";import"./Avatar-ff9f544d.js";import"./useToasts-b5929457.js";const I={},L={class:"text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700"},Q={class:"flex flex-wrap -mb-px"};function G(o,i){return t(),a("div",L,[g("ul",Q,[h(o.$slots,"default")])])}const H=q(I,[["render",G]]),J={class:"me-2"},$={__name:"Tab",props:{active:[Boolean],default:!1},setup(o){const i=o,s=C(()=>i.active?"text-blue-600 border-blue-600  active dark:text-blue-500 dark:border-blue-500":"border-transparent  hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300");return(l,f)=>(t(),a("li",J,[g("button",{class:V(["inline-block p-4 border-b-2 rounded-t-lg",s.value])},[h(l.$slots,"default")],2)]))}},K={key:1,class:"mt-10"},M={key:1},P=["onClick"],ut={__name:"Index",props:{notifications:{type:[Object,null]}},setup(o){const i=j(),s=C(()=>i.props.query.type??null),l=c=>{k.visit(route("account.notifications.index",c))},f=F([{id:"account",route:route("account.index"),label:"Аккаунт"},{id:"notifications",route:route("account.notifications.index"),label:"Уведомления"}]),m=o,w=c=>{k.visit(route("account.notifications.read",{notification:c}),{method:"post",only:["notifications"]})};return(c,u)=>(t(),d(N,null,{default:n(()=>[r(B,{sm:""},{default:n(()=>{var _,p;return[r(S,{routes:f.value},null,8,["routes"]),r(A,{class:"mt-8",title:"Уведомления"}),r(H,null,{default:n(()=>[r($,{active:!s.value||s.value==="all",onClick:u[0]||(u[0]=e=>l({type:"all"}))},{default:n(()=>[y("Все")]),_:1},8,["active"]),r($,{active:s.value==="unread",onClick:u[1]||(u[1]=e=>l({type:"unread"}))},{default:n(()=>[y("Непрочитанные")]),_:1},8,["active"])]),_:1}),((_=m.notifications.meta)==null?void 0:_.total)===0?(t(),d(z,{key:0,title:"Уведомлений не найдено",subtitle:"Попробуйте посмотерть в другом разделе или измените параметры поиска"})):(t(),a("div",K,[(t(!0),a(O,null,R(m.notifications.data,e=>{var v,x;return t(),a("div",{class:"relative overflow-x-auto shadow-md flex justify-between px-6 py-4 sm:rounded-lg text-sm text-left text-gray-500 dark:text-gray-400",key:e.id},[e.type==="App\\Notifications\\ReservationRequest\\CreatedNotification"&&((x=(v=e.data)==null?void 0:v.reservation_request)!=null&&x.apartment)?(t(),d(E,{key:0,notification:e},null,8,["notification"])):(t(),a("div",M,T(e.type),1)),e.read_at?b("",!0):(t(),a("button",{key:2,class:"font-medium text-blue-600 dark:text-blue-500 hover:underline",onClick:U=>w(e.id)}," Прочитать ",8,P))])}),128))])),((p=m.notifications.meta)==null?void 0:p.last_page)>1?(t(),d(D,{key:2,class:"mt-8 w-full flex justify-center"})):b("",!0)]}),_:1})]),_:1}))}};export{ut as default};
