import{o,j as r,A as g,n as x,f as c,w as _,u as m,B as A,i as t,k as D,t as $,b as B,g as l,m as w,q as V,d as z,r as C,a0 as H,F as S,O as F,_ as q}from"./app-41fee492.js";import{c as M,g as k,_ as L}from"./ButtonComponent-bf299151.js";import{H as N,d as E}from"./index-43b52f86.js";import{_ as I}from"./Heading-cb5ed7b3.js";import{u as Q}from"./useToasts-66a0e2b9.js";const U={__name:"Container",props:{sm:Boolean|null},setup(e){return(s,n)=>(o(),r("div",{class:x(`mx-auto md:px-10 sm:px-2 px-4 ${e.sm?"xl:px-36 max-w-[1520px]":"xl:px-20 max-w-[2520px]"}`)},[g(s.$slots,"default")],2))}},X="/build/assets/logo-394ae3f5.webp",Z=t("img",{src:X,class:"h-8",alt:""},null,-1),G={__name:"Logo",setup(e){return(s,n)=>(o(),c(m(A),{href:s.route("home"),class:"hidden md:block"},{default:_(()=>[Z]),_:1},8,["href"]))}},J=["src"],K={__name:"Avatar",props:{src:String},setup(e){return(s,n)=>(o(),r("img",{class:"rounded-full w-[30px] h-[30px]",alt:"Avatar",src:e.src??"/img/no-user.svg"},null,8,J))}},O="px-4 py-3 hover:bg-neutral-100 transition font-semibold",p={__name:"MenuLink",props:{href:String,label:String},emits:["click"],setup(e){return(s,n)=>e.href?(o(),c(m(A),{key:0,href:e.href,class:x(O)},{default:_(()=>[D($(e.label),1)]),_:1},8,["href"])):(o(),r("div",{key:1,onClick:n[0]||(n[0]=i=>s.$emit("click")),class:x(O)},$(e.label),1))}},P={key:0,class:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none bg-neutral-800/70"},R={class:"relative w-full md:w-4/6 lg:w-3/6 xl:w-2/5 my-6 mx-auto h-full lg:h-auto md:h-auto"},W={class:"translate h-full lg:h-auto md:h-auto border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},Y={class:"flex items-center p-6 rounded-t justify-center relative border-b"},ee={class:"text-lg font-semibold pl-16 md:pl-0"},te={class:"relative p-6 flex-auto"},se={class:"flex flex-col gap-2 p-6 border-t"},oe={class:"flex flex-row items-center gap-4 w-full"},ne={__name:"Modal",props:{isOpen:{type:Boolean},title:String,actionLabel:String,disabled:Boolean,secondaryActionLabel:String},emits:["onClose","onSubmit","onSecondaryAction"],setup(e,{emit:s}){M(N);const n=s,i=e,d=B(()=>i.isOpen),h=()=>{i.disabled||n("onClose")},b=()=>{i.disabled||n("onSubmit")},y=()=>{i.disabled||n("onSecondaryAction")};return(f,v)=>(o(),c(V,{name:"fade"},{default:_(()=>[d.value?(o(),r("div",P,[t("div",R,[t("div",{class:x(`
                 translate
                 duration-300
                 h-full
                 ${d.value?"translate-y-0":"translate-y-full"}
            ${d.value?"opacity-100":"opacity-0"}
            `)},[t("div",W,[t("div",Y,[t("button",{class:"p-1 border-0 hover:opacity-70 transition absolute left-9",onClick:h},[l(m(k),{name:"hi-x"})]),t("div",ee,$(e.title),1)]),t("div",te,[g(f.$slots,"body")]),t("div",se,[t("div",oe,[e.secondaryActionLabel?(o(),c(L,{key:0,disabled:e.disabled,label:e.secondaryActionLabel,onClick:y,outline:!0},null,8,["disabled","label"])):w("",!0),l(L,{disabled:e.disabled,label:e.actionLabel,onClick:b},null,8,["disabled","label"])]),g(f.$slots,"footer")])])],2)])])):w("",!0)]),_:3}))}},le={__name:"ModalLogout",props:{isOpen:Boolean},emits:["onClose","onLogout"],setup(e,{emit:s}){const n=s,i=()=>{n("onClose")},d=()=>{n("onLogout")};return(h,b)=>(o(),c(ne,{"is-open":e.isOpen,onOnSecondaryAction:i,onOnClose:i,onOnSubmit:d,title:"Выход из аккаунта","action-label":"Выйти","secondary-action-label":"Отменить"},{body:_(()=>[l(I,{title:"Вы уверены что хотите выйти?"})]),_:1},8,["is-open"]))}},ae={class:"relative"},ie={class:"flex flex-row items-center gap-3"},re={class:"hidden md:block"},ce={key:0,class:"absolute rounded-xl shadow-md w-[40vw] md:w-[22vw] bg-white overflow-hidden right-0 top-12 text-sm"},de={class:"flex flex-col cursor-pointer"},ue=t("hr",null,null,-1),me=z({__name:"UserMenu",setup(e){M(E,N);const s=C(!1),n=a=>{s.value=a},i=()=>{n(!s.value)},{successToast:d}=Q(),h=()=>{F.post(route("logout")),v(!1),d("Вы успешно вышли из аккаунта.")},b=H(),y=B(()=>{var a,u;return((u=(a=b.props.user)==null?void 0:a.data)==null?void 0:u.avatar)??null}),f=C(!1),v=a=>{f.value=a},T=()=>{window.location.href=route("filament.admin.pages.dashboard")};return(a,u)=>(o(),r("div",ae,[l(le,{"is-open":f.value,onOnClose:u[0]||(u[0]=j=>v(!1)),onOnLogout:h},null,8,["is-open"]),t("div",ie,[t("div",{onClick:i,class:"p-4 md:py-1 md:px-2 border-[1px] border-neutral-200 flex flex-row items-center gap-3 rounded-full cursor-pointer hover:shadow-md transition"},[s.value?(o(),c(m(k),{key:1,name:"hi-x"})):(o(),c(m(k),{key:0,name:"hi-solid-menu"})),t("div",re,[l(K,{src:y.value},null,8,["src"])])])]),s.value?(o(),r("div",ce,[t("div",de,[a.$page.props.user?(o(),r(S,{key:1},[l(p,{href:a.route("account.index"),label:"Аккаунт"},null,8,["href"]),ue,a.$page.props.user.data.is_admin?(o(),c(p,{key:0,onClick:T,label:"Дашборд"})):w("",!0),l(p,{onClick:u[1]||(u[1]=j=>v(!0)),label:"Выйти"})],64)):(o(),r(S,{key:0},[l(p,{href:a.route("login"),label:"Войти"},null,8,["href"]),l(p,{href:a.route("register"),label:"Зарегистрироваться"},null,8,["href"])],64))])])):w("",!0)]))}}),fe={class:"fixed w-full bg-white z-20 shadow-sm"},pe={class:"py-4 border-b-[1px]"},_e={class:"flex flex-row items-center justify-between gap-3 md:gap-0"},he={__name:"Navbar",setup(e){return(s,n)=>(o(),r("div",fe,[t("div",pe,[l(U,null,{default:_(()=>[t("div",_e,[l(G),l(me)])]),_:1})])]))}},be={class:"pt-24"},ve=t("footer",null,[t("div",{class:"h-12"})],-1),ke={__name:"AppLayout",props:{title:String},setup(e){return(s,n)=>(o(),r("div",null,[l(m(q),{title:e.title},null,8,["title"]),l(he),t("main",be,[g(s.$slots,"default")]),ve]))}};export{U as _,ke as a,K as b,ne as c};
