import{Q as w,q as V,r as C,p as m,c as o,e as l,F as j,b as B,g as f,u as n,t as v,w as N,i as S,G as x,a as d,n as $,f as q}from"./app-13d270f8.js";import{_ as T}from"./Counter-cad3cacd.js";import{_ as D}from"./ButtonComponent-17a74831.js";import"./index.esm.min-26cd13e7.js";import"./index-b814d10c.js";const F={class:"w-full"},O={class:"p-2 border dark:border-slate-600 rounded-2xl flex gap-2 overflow-x-scroll no-scrollbar"},z=["onClick","disabled"],E={class:"flex items-center justify-between"},G={class:"text-neutral-900 text-2xl font-bold dark:text-neutral-200"},L={key:0,class:"absolute inset-0 dark:bg-slate-800 flex flex-col items-center justify-center dark:text-neutral-400"},J={__name:"BookingSeats",props:{drive:{type:Object}},setup(g){var c,u,p,b;const r=g,i=w(),e=V({date:(u=(c=i.props)==null?void 0:c.query)==null?void 0:u.date,passengers:((b=(p=i.props)==null?void 0:p.query)==null?void 0:b.passengers)??1}),k=C(!1),_=s=>{e.date=s},y=m(()=>{var s,t;return console.log((s=r.drive)==null?void 0:s.price,e.passengers),((t=r.drive)==null?void 0:t.price)*((e==null?void 0:e.passengers)??1)}),h=m(()=>{let s=r.drive.passengers_limit;if(e.date){const t=r.drive.dates[e.date];s=t==null?void 0:t.available_seats}return`Осталось свободных мест: ${s-e.passengers}`});return(s,t)=>(d(),o("div",F,[l("div",O,[(d(!0),o(j,null,B(Object.keys(r.drive.dates),a=>(d(),o("button",{key:a,onClick:x(M=>_(a),["prevent"]),disabled:k.value,class:$(["p-4 transition rounded-xl text-sm font-bold cursor-pointer disabled:opacity-40 disabled:pointer-events-none",n(e).date===a?"bg-sky-200 text-neutral-900 dark:bg-sky-800 dark:text-neutral-200":"bg-gray-200 text-neutral-800 hover:bg-sky-100 dark:bg-slate-700 dark:text-neutral-400 dark:hover:bg-sky-900 dark:hover:text-neutral-300"])},v(a.slice(0,5)),11,z))),128))]),l("form",{onSubmit:t[1]||(t[1]=x(()=>{},["prevent"])),class:"mt-4 border dark:border-slate-600 rounded-2xl p-4 relative overflow-hidden"},[f(T,{modelValue:n(e).passengers,"onUpdate:modelValue":t[0]||(t[0]=a=>n(e).passengers=a),title:"Количество мест",subtitle:h.value},null,8,["modelValue","subtitle"]),l("div",E,[l("h2",G,v(y.value)+" ₽",1),f(D,{"auto-width":"",class:"px-4 mt-5 self-center"},{default:N(()=>[q(" Забронировать ")]),_:1})]),n(e).date?S("",!0):(d(),o("div",L," Выберите желаемую дату поездки "))],32)]))}};export{J as default};
