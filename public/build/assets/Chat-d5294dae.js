import{_ as f}from"./Container-f5153cdb.js";import{_ as h}from"./AppLayout-3333127c.js";import{p as x,l as i,w as l,a,g as o,e as t,c as d,F as g,b as v,x as w,u as n,v as b,t as _,f as k}from"./app-7a4d558b.js";import{_ as y}from"./ButtonComponent-6764ba42.js";import{_ as j,a as $,b as V}from"./TextareaInput-6364fdc4.js";import{_ as B}from"./Heading-ab685b24.js";import{_ as C}from"./EmptyState-94cae214.js";import"./index.esm.min-8990be4b.js";import"./Counter-a00a1bbd.js";import"./index-fcfb796a.js";import"./Input-2376943b.js";import"./index-9ef572b0.js";import"./Avatar-3d320c55.js";import"./index-ef86abd0.js";import"./useToasts-9002e68e.js";const L={class:"mt-6 flex flex-col items-start md:flex-row gap-4 md:justify-between relative"},O={class:"w-full md:w-2/3 h-full relative min-h-[420px]"},S={key:0,class:"absolute inset-x-0 top-0 bottom-32 overflow-auto flex flex-col items-start gap-1.5"},q={class:"absolute inset-x-0 bottom-0 flex items-start gap-3"},N=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})],-1),D={class:"hidden md:block md:w-1/3 md:sticky md:top-24 rounded-lg shadow-xl h-auto p-4"},E={class:"flex items-stretch justify-start gap-4"},F=["src"],T={class:"flex flex-col justify-between"},z={class:"text-gray-600 font-light dark:text-slate-300"},A={class:"font-bold dark:text-slate-200"},M=t("span",{class:"font-light text-sm text-neutral-500 dark:text-slate-400"},"ночь",-1),st={__name:"Chat",props:{apartment:{type:Object},chat:{type:Object},messages:{type:Object}},setup(p){const s=p,r=x({message:""}),c=()=>{r.post(route("account.chat.messages.store",{chat:s.chat.data.id}),{preserveScroll:!0,onSuccess:()=>{r.reset("message")}})};return(u,m)=>(a(),i(h,null,{default:l(()=>[o(f,null,{default:l(()=>[o(B,{class:"mt-8",title:"Чат с хозяином"}),t("div",L,[t("div",O,[s.messages.data.length?(a(),d("div",S,[(a(!0),d(g,null,v(s.messages.data,e=>(a(),i(w(e.reservation_request?j:$),{item:e.reservation_request?e.reservation_request:e,key:e.id},null,8,["item"]))),128))])):(a(),i(C,{key:1,title:"Сообщений пока нет",subtitle:"Напишите первым!"})),t("div",q,[o(V,{modelValue:n(r).message,"onUpdate:modelValue":m[0]||(m[0]=e=>n(r).message=e),id:"message",label:"Сообщение",onOnEnter:c},null,8,["modelValue"]),o(y,{"auto-width":!0,onClick:c,class:"px-4",outline:!0,label:""},{icon:l(()=>[N]),_:1})])]),t("div",D,[t("div",E,[o(n(b),{href:u.route("apartment",{apartment:s.apartment.data.id}),class:"h-24 w-32 rounded-lg overflow-hidden"},{default:l(()=>{var e;return[t("img",{src:(e=s.apartment.data.media[0])==null?void 0:e.src,class:"h-full w-full object-cover",alt:""},null,8,F)]}),_:1},8,["href"]),t("div",T,[t("div",z,_(s.apartment.data.category.title_single),1),t("div",A,[k(_(s.apartment.data.weekdays_price.toLocaleString())+"₽ ",1),M])])])])])]),_:1})]),_:1}))}};export{st as default};
