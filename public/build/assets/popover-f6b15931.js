import{o as u,u as k,a as G,f as _,H as Z,t as A,b as me,N as ee,c as T}from"./hidden-f609c48a.js";import{y as B,s as V,Y as C,r as w,b as N,d as U,h as L,F as z,v as le,x as oe}from"./app-8e33f2c1.js";let re=Symbol("Context");var D=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(D||{});function be(){return B(re,null)}function he(e){V(re,e)}var ye=Object.defineProperty,Pe=(e,n,r)=>n in e?ye(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,te=(e,n,r)=>(Pe(e,typeof n!="symbol"?n+"":n,r),r);class Ee{constructor(){te(this,"current",this.detect()),te(this,"currentId",0)}set(n){this.current!==n&&(this.currentId=0,this.current=n)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let q=new Ee;function H(e){if(q.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let n=u(e);if(n)return n.ownerDocument}return document}let Y=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var O=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(O||{}),W=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(W||{}),ge=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(ge||{});function X(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Y)).sort((n,r)=>Math.sign((n.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var J=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(J||{});function ue(e,n=0){var r;return e===((r=H(e))==null?void 0:r.body)?!1:k(n,{0(){return e.matches(Y)},1(){let i=e;for(;i!==null;){if(i.matches(Y))return!0;i=i.parentElement}return!1}})}var Se=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Se||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let we=["textarea","input"].join(",");function Fe(e){var n,r;return(r=(n=e==null?void 0:e.matches)==null?void 0:n.call(e,we))!=null?r:!1}function Ie(e,n=r=>r){return e.slice().sort((r,i)=>{let l=n(r),t=n(i);if(l===null||t===null)return 0;let a=l.compareDocumentPosition(t);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function M(e,n,{sorted:r=!0,relativeTo:i=null,skipElements:l=[]}={}){var t;let a=(t=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?t:document,o=Array.isArray(e)?r?Ie(e):e:X(e);l.length>0&&o.length>1&&(o=o.filter(S=>!l.includes(S))),i=i??a.activeElement;let f=(()=>{if(n&5)return 1;if(n&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(n&1)return 0;if(n&2)return Math.max(0,o.indexOf(i))-1;if(n&4)return Math.max(0,o.indexOf(i))+1;if(n&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=n&32?{preventScroll:!0}:{},g=0,F=o.length,p;do{if(g>=F||g+F<=0)return 0;let S=h+g;if(n&16)S=(S+F)%F;else{if(S<0)return 3;if(S>=F)return 1}p=o[S],p==null||p.focus(d),g+=f}while(p!==a.activeElement);return n&6&&Fe(p)&&p.select(),2}function R(e,n,r){q.isServer||C(i=>{document.addEventListener(e,n,r),i(()=>document.removeEventListener(e,n,r))})}function ae(e,n,r){q.isServer||C(i=>{window.addEventListener(e,n,r),i(()=>window.removeEventListener(e,n,r))})}function xe(e,n,r=N(()=>!0)){function i(t,a){if(!r.value||t.defaultPrevented)return;let o=a(t);if(o===null||!o.getRootNode().contains(o))return;let f=function h(d){return typeof d=="function"?h(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let h of f){if(h===null)continue;let d=h instanceof HTMLElement?h:u(h);if(d!=null&&d.contains(o)||t.composed&&t.composedPath().includes(d))return}return!ue(o,J.Loose)&&o.tabIndex!==-1&&t.preventDefault(),n(t,o)}let l=w(null);R("pointerdown",t=>{var a,o;r.value&&(l.value=((o=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:o[0])||t.target)},!0),R("mousedown",t=>{var a,o;r.value&&(l.value=((o=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:o[0])||t.target)},!0),R("click",t=>{l.value&&(i(t,()=>l.value),l.value=null)},!0),R("touchend",t=>i(t,()=>t.target instanceof HTMLElement?t.target:null),!0),ae("blur",t=>i(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var $=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))($||{});function se(){let e=w(0);return ae("keydown",n=>{n.key==="Tab"&&(e.value=n.shiftKey?1:0)}),e}function Ne(e,n,r,i){q.isServer||C(l=>{e=e??window,e.addEventListener(n,r,i),l(()=>e.removeEventListener(n,r,i))})}let ne=Symbol("PortalParentContext");function Oe(){let e=B(ne,null),n=w([]);function r(t){return n.value.push(t),e&&e.register(t),()=>i(t)}function i(t){let a=n.value.indexOf(t);a!==-1&&n.value.splice(a,1),e&&e.unregister(t)}let l={register:r,unregister:i,portals:n};return[n,U({name:"PortalWrapper",setup(t,{slots:a}){return V(ne,l),()=>{var o;return(o=a.default)==null?void 0:o.call(a)}}})]}function $e({defaultContainers:e=[],portals:n,mainTreeNodeRef:r}={}){let i=w(null),l=H(i);function t(){var a;let o=[];for(let f of e)f!==null&&(f instanceof HTMLElement?o.push(f):"value"in f&&f.value instanceof HTMLElement&&o.push(f.value));if(n!=null&&n.value)for(let f of n.value)o.push(f);for(let f of(a=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?a:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(u(i))||o.some(h=>f.contains(h))||o.push(f));return o}return{resolveContainers:t,contains(a){return t().some(o=>o.contains(a))},mainTreeNodeRef:i,MainTreeNode(){return r!=null?null:L(_,{features:G.Hidden,ref:i})}}}var Le=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Le||{});let ie=Symbol("PopoverContext");function Q(e){let n=B(ie,null);if(n===null){let r=new Error(`<${e} /> is missing a parent <${ke.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Q),r}return n}let Te=Symbol("PopoverGroupContext");function ce(){return B(Te,null)}let de=Symbol("PopoverPanelContext");function Me(){return B(de,null)}let ke=U({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:n,attrs:r,expose:i}){var l;let t=w(null);i({el:t,$el:t});let a=w(1),o=w(null),f=w(null),h=w(null),d=w(null),g=N(()=>H(t)),F=N(()=>{var s,v;if(!u(o)||!u(d))return!1;for(let j of document.querySelectorAll("body > *"))if(Number(j==null?void 0:j.contains(u(o)))^Number(j==null?void 0:j.contains(u(d))))return!0;let b=X(),I=b.indexOf(u(o)),K=(I+b.length-1)%b.length,ve=(I+1)%b.length,fe=b[K],pe=b[ve];return!((s=u(d))!=null&&s.contains(fe))&&!((v=u(d))!=null&&v.contains(pe))}),p={popoverState:a,buttonId:w(null),panelId:w(null),panel:d,button:o,isPortalled:F,beforePanelSentinel:f,afterPanelSentinel:h,togglePopover(){a.value=k(a.value,{0:1,1:0})},closePopover(){a.value!==1&&(a.value=1)},close(s){p.closePopover();let v=(()=>s?s instanceof HTMLElement?s:s.value instanceof HTMLElement?u(s):u(p.button):u(p.button))();v==null||v.focus()}};V(ie,p),he(N(()=>k(a.value,{0:D.Open,1:D.Closed})));let S={buttonId:p.buttonId,panelId:p.panelId,close(){p.closePopover()}},x=ce(),y=x==null?void 0:x.registerPopover,[E,m]=Oe(),c=$e({mainTreeNodeRef:x==null?void 0:x.mainTreeNodeRef,portals:E,defaultContainers:[o,d]});function P(){var s,v,b,I;return(I=x==null?void 0:x.isFocusWithinPopoverGroup())!=null?I:((s=g.value)==null?void 0:s.activeElement)&&(((v=u(o))==null?void 0:v.contains(g.value.activeElement))||((b=u(d))==null?void 0:b.contains(g.value.activeElement)))}return C(()=>y==null?void 0:y(S)),Ne((l=g.value)==null?void 0:l.defaultView,"focus",s=>{var v,b;s.target!==window&&s.target instanceof HTMLElement&&a.value===0&&(P()||o&&d&&(c.contains(s.target)||(v=u(p.beforePanelSentinel))!=null&&v.contains(s.target)||(b=u(p.afterPanelSentinel))!=null&&b.contains(s.target)||p.closePopover()))},!0),xe(c.resolveContainers,(s,v)=>{var b;p.closePopover(),ue(v,J.Loose)||(s.preventDefault(),(b=u(o))==null||b.focus())},N(()=>a.value===0)),()=>{let s={open:a.value===0,close:p.close};return L(z,[L(m,{},()=>Z({theirProps:{...e,...r},ourProps:{ref:t},slot:s,slots:n,attrs:r,name:"Popover"})),L(c.MainTreeNode)])}}}),De=U({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-popover-button-${A()}`}},inheritAttrs:!1,setup(e,{attrs:n,slots:r,expose:i}){let l=Q("PopoverButton"),t=N(()=>H(l.button));i({el:l.button,$el:l.button}),le(()=>{l.buttonId.value=e.id}),oe(()=>{l.buttonId.value=null});let a=ce(),o=a==null?void 0:a.closeOthers,f=Me(),h=N(()=>f===null?!1:f.value===l.panelId.value),d=w(null),g=`headlessui-focus-sentinel-${A()}`;h.value||C(()=>{l.button.value=d.value});let F=me(N(()=>({as:e.as,type:n.type})),d);function p(c){var P,s,v,b,I;if(h.value){if(l.popoverState.value===1)return;switch(c.key){case T.Space:case T.Enter:c.preventDefault(),(s=(P=c.target).click)==null||s.call(P),l.closePopover(),(v=u(l.button))==null||v.focus();break}}else switch(c.key){case T.Space:case T.Enter:c.preventDefault(),c.stopPropagation(),l.popoverState.value===1&&(o==null||o(l.buttonId.value)),l.togglePopover();break;case T.Escape:if(l.popoverState.value!==0)return o==null?void 0:o(l.buttonId.value);if(!u(l.button)||(b=t.value)!=null&&b.activeElement&&!((I=u(l.button))!=null&&I.contains(t.value.activeElement)))return;c.preventDefault(),c.stopPropagation(),l.closePopover();break}}function S(c){h.value||c.key===T.Space&&c.preventDefault()}function x(c){var P,s;e.disabled||(h.value?(l.closePopover(),(P=u(l.button))==null||P.focus()):(c.preventDefault(),c.stopPropagation(),l.popoverState.value===1&&(o==null||o(l.buttonId.value)),l.togglePopover(),(s=u(l.button))==null||s.focus()))}function y(c){c.preventDefault(),c.stopPropagation()}let E=se();function m(){let c=u(l.panel);if(!c)return;function P(){k(E.value,{[$.Forwards]:()=>M(c,O.First),[$.Backwards]:()=>M(c,O.Last)})===W.Error&&M(X().filter(s=>s.dataset.headlessuiFocusGuard!=="true"),k(E.value,{[$.Forwards]:O.Next,[$.Backwards]:O.Previous}),{relativeTo:u(l.button)})}P()}return()=>{let c=l.popoverState.value===0,P={open:c},{id:s,...v}=e,b=h.value?{ref:d,type:F.value,onKeydown:p,onClick:x}:{ref:d,id:s,type:F.value,"aria-expanded":l.popoverState.value===0,"aria-controls":u(l.panel)?l.panelId.value:void 0,disabled:e.disabled?!0:void 0,onKeydown:p,onKeyup:S,onClick:x,onMousedown:y};return L(z,[Z({ourProps:b,theirProps:{...n,...v},slot:P,attrs:n,slots:r,name:"PopoverButton"}),c&&!h.value&&l.isPortalled.value&&L(_,{id:g,features:G.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:m})])}}}),Be=U({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-popover-panel-${A()}`}},inheritAttrs:!1,setup(e,{attrs:n,slots:r,expose:i}){let{focus:l}=e,t=Q("PopoverPanel"),a=N(()=>H(t.panel)),o=`headlessui-focus-sentinel-before-${A()}`,f=`headlessui-focus-sentinel-after-${A()}`;i({el:t.panel,$el:t.panel}),le(()=>{t.panelId.value=e.id}),oe(()=>{t.panelId.value=null}),V(de,t.panelId),C(()=>{var y,E;if(!l||t.popoverState.value!==0||!t.panel)return;let m=(y=a.value)==null?void 0:y.activeElement;(E=u(t.panel))!=null&&E.contains(m)||M(u(t.panel),O.First)});let h=be(),d=N(()=>h!==null?(h.value&D.Open)===D.Open:t.popoverState.value===0);function g(y){var E,m;switch(y.key){case T.Escape:if(t.popoverState.value!==0||!u(t.panel)||a.value&&!((E=u(t.panel))!=null&&E.contains(a.value.activeElement)))return;y.preventDefault(),y.stopPropagation(),t.closePopover(),(m=u(t.button))==null||m.focus();break}}function F(y){var E,m,c,P,s;let v=y.relatedTarget;v&&u(t.panel)&&((E=u(t.panel))!=null&&E.contains(v)||(t.closePopover(),((c=(m=u(t.beforePanelSentinel))==null?void 0:m.contains)!=null&&c.call(m,v)||(s=(P=u(t.afterPanelSentinel))==null?void 0:P.contains)!=null&&s.call(P,v))&&v.focus({preventScroll:!0})))}let p=se();function S(){let y=u(t.panel);if(!y)return;function E(){k(p.value,{[$.Forwards]:()=>{var m;M(y,O.First)===W.Error&&((m=u(t.afterPanelSentinel))==null||m.focus())},[$.Backwards]:()=>{var m;(m=u(t.button))==null||m.focus({preventScroll:!0})}})}E()}function x(){let y=u(t.panel);if(!y)return;function E(){k(p.value,{[$.Forwards]:()=>{let m=u(t.button),c=u(t.panel);if(!m)return;let P=X(),s=P.indexOf(m),v=P.slice(0,s+1),b=[...P.slice(s+1),...v];for(let I of b.slice())if(I.dataset.headlessuiFocusGuard==="true"||c!=null&&c.contains(I)){let K=b.indexOf(I);K!==-1&&b.splice(K,1)}M(b,O.First,{sorted:!1})},[$.Backwards]:()=>{var m;M(y,O.Previous)===W.Error&&((m=u(t.button))==null||m.focus())}})}E()}return()=>{let y={open:t.popoverState.value===0,close:t.close},{id:E,focus:m,...c}=e,P={ref:t.panel,id:E,onKeydown:g,onFocusout:l&&t.popoverState.value===0?F:void 0,tabIndex:-1};return Z({ourProps:P,theirProps:{...n,...c},attrs:n,slot:y,slots:{...r,default:(...s)=>{var v;return[L(z,[d.value&&t.isPortalled.value&&L(_,{id:o,ref:t.beforePanelSentinel,features:G.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:S}),(v=r.default)==null?void 0:v.call(r,...s),d.value&&t.isPortalled.value&&L(_,{id:f,ref:t.afterPanelSentinel,features:G.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:x})])]}},features:ee.RenderStrategy|ee.Static,visible:d.value,name:"PopoverPanel"})}}});export{Be as W,De as j,ke as y};
