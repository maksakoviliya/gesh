import{m as Ue,n as rt,g as Be,h as Re,H as ce,S as X,o as D,E as We,i as Q,k as ge,P as _e,N as I,T as st,t as Ce,p as Ie,l as P,V as ot,q as it,M as ut,r as dt,s as ct,U as ft,v as pt,w as je,x as ke,C as mt,z,A as vt,D as gt,F as ht,G as yt,d as se,a as _t,e as He,f as Ne,_ as bt}from"./AppLayout-1ba3096c.js";import{c as wt,g as xt}from"./index.esm.min-a2909339.js";import{e as Et}from"./index-6d6d160a.js";import{d as fe,r as h,k as c,o as j,A as J,h as O,F as ae,B as Z,C as pe,D as ue,E as ne,G as $t,H as St,n as Ye,a as S,c as T,b as be,g as i,e as L,w as R,u as C,m as ze,j as Lt,t as A,f as te,i as de}from"./app-7b77da2d.js";import{_ as kt}from"./Heading-a0f7233c.js";import{_ as Tt}from"./ButtonComponent-f834e57c.js";import{_ as Dt}from"./Avatar-f210a217.js";import{u as Ge}from"./useToasts-c04a6867.js";import{_ as Ft}from"./Map.vue_vue_type_script_setup_true_lang-5a3be09a.js";import"./Input-8189bd7f.js";function At(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Oe(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function me(){let e=[],t={addEventListener(a,l,n,r){return a.addEventListener(l,n,r),t.add(()=>a.removeEventListener(l,n,r))},requestAnimationFrame(...a){let l=requestAnimationFrame(...a);t.add(()=>cancelAnimationFrame(l))},nextFrame(...a){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...a)})},setTimeout(...a){let l=setTimeout(...a);t.add(()=>clearTimeout(l))},microTask(...a){let l={current:!0};return Oe(()=>{l.current&&a[0]()}),t.add(()=>{l.current=!1})},style(a,l,n){let r=a.style.getPropertyValue(l);return Object.assign(a.style,{[l]:n}),this.add(()=>{Object.assign(a.style,{[l]:r})})},group(a){let l=me();return a(l),this.add(()=>l.dispose())},add(a){return e.push(a),()=>{let l=e.indexOf(a);if(l>=0)for(let n of e.splice(l,1))n()}},dispose(){for(let a of e.splice(0))a()}};return t}function Ct(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}function Xe(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let a of e.value){let l=D(a);l instanceof HTMLElement&&t.add(l)}return t}var Qe=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Qe||{});let oe=Object.assign(fe({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:h(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:a,expose:l}){let n=h(null);l({el:n,$el:n});let r=c(()=>Ue(n)),s=h(!1);j(()=>s.value=!0),J(()=>s.value=!1),Pt({ownerDocument:r},c(()=>s.value&&!!(e.features&16)));let o=Mt({ownerDocument:r,container:n,initialFocus:c(()=>e.initialFocus)},c(()=>s.value&&!!(e.features&2)));Bt({ownerDocument:r,container:n,containers:e.containers,previousActiveElement:o},c(()=>s.value&&!!(e.features&8)));let u=rt();function d(y){let b=D(n);b&&(p=>p())(()=>{Q(u.value,{[ge.Forwards]:()=>{_e(b,I.First,{skipElements:[y.relatedTarget]})},[ge.Backwards]:()=>{_e(b,I.Last,{skipElements:[y.relatedTarget]})}})})}let f=h(!1);function w(y){y.key==="Tab"&&(f.value=!0,requestAnimationFrame(()=>{f.value=!1}))}function v(y){if(!s.value)return;let b=Xe(e.containers);D(n)instanceof HTMLElement&&b.add(D(n));let p=y.relatedTarget;p instanceof HTMLElement&&p.dataset.headlessuiFocusGuard!=="true"&&(Ze(b,p)||(f.value?_e(D(n),Q(u.value,{[ge.Forwards]:()=>I.Next,[ge.Backwards]:()=>I.Previous})|I.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&X(y.target)))}return()=>{let y={},b={ref:n,onKeydown:w,onFocusout:v},{features:p,initialFocus:m,containers:k,...x}=e;return O(ae,[!!(p&4)&&O(Be,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Re.Focusable}),ce({ourProps:b,theirProps:{...t,...x},slot:y,attrs:t,slots:a,name:"FocusTrap"}),!!(p&4)&&O(Be,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Re.Focusable})])}}}),{features:Qe}),Y=[];Ct(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Y[0]!==t.target&&(Y.unshift(t.target),Y=Y.filter(a=>a!=null&&a.isConnected),Y.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Ot(e){let t=h(Y.slice());return pe([e],([a],[l])=>{l===!0&&a===!1?Oe(()=>{t.value.splice(0)}):l===!1&&a===!0&&(t.value=Y.slice())},{flush:"post"}),()=>{var a;return(a=t.value.find(l=>l!=null&&l.isConnected))!=null?a:null}}function Pt({ownerDocument:e},t){let a=Ot(t);j(()=>{Z(()=>{var l,n;t.value||((l=e.value)==null?void 0:l.activeElement)===((n=e.value)==null?void 0:n.body)&&X(a())},{flush:"post"})}),J(()=>{t.value&&X(a())})}function Mt({ownerDocument:e,container:t,initialFocus:a},l){let n=h(null),r=h(!1);return j(()=>r.value=!0),J(()=>r.value=!1),j(()=>{pe([t,a,l],(s,o)=>{if(s.every((d,f)=>(o==null?void 0:o[f])===d)||!l.value)return;let u=D(t);u&&Oe(()=>{var d,f;if(!r.value)return;let w=D(a),v=(d=e.value)==null?void 0:d.activeElement;if(w){if(w===v){n.value=v;return}}else if(u.contains(v)){n.value=v;return}w?X(w):_e(u,I.First|I.NoScroll)===st.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),n.value=(f=e.value)==null?void 0:f.activeElement})},{immediate:!0,flush:"post"})}),n}function Bt({ownerDocument:e,container:t,containers:a,previousActiveElement:l},n){var r;We((r=e.value)==null?void 0:r.defaultView,"focus",s=>{if(!n.value)return;let o=Xe(a);D(t)instanceof HTMLElement&&o.add(D(t));let u=l.value;if(!u)return;let d=s.target;d&&d instanceof HTMLElement?Ze(o,d)?(l.value=d,X(d)):(s.preventDefault(),s.stopPropagation(),X(u)):X(l.value)},!0)}function Ze(e,t){for(let a of e)if(a.contains(t))return!0;return!1}let Se=new Map,ie=new Map;function Ve(e,t=h(!0)){Z(a=>{var l;if(!t.value)return;let n=D(e);if(!n)return;a(function(){var s;if(!n)return;let o=(s=ie.get(n))!=null?s:1;if(o===1?ie.delete(n):ie.set(n,o-1),o!==1)return;let u=Se.get(n);u&&(u["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",u["aria-hidden"]),n.inert=u.inert,Se.delete(n))});let r=(l=ie.get(n))!=null?l:0;ie.set(n,r+1),r===0&&(Se.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0)})}let Je=Symbol("StackContext");var Te=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Te||{});function Rt(){return ne(Je,()=>{})}function jt({type:e,enabled:t,element:a,onUpdate:l}){let n=Rt();function r(...s){l==null||l(...s),n(...s)}j(()=>{pe(t,(s,o)=>{s?r(0,e,a):o===!0&&r(1,e,a)},{immediate:!0,flush:"sync"})}),J(()=>{t.value&&r(1,e,a)}),ue(Je,r)}function Ht(e){let t=$t(e.getSnapshot());return J(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function Nt(e,t){let a=e(),l=new Set;return{getSnapshot(){return a},subscribe(n){return l.add(n),()=>l.delete(n)},dispatch(n,...r){let s=t[n].call(a,...r);s&&(a=s,l.forEach(o=>o()))}}}function Vt(){let e;return{before({doc:t}){var a;let l=t.documentElement;e=((a=t.defaultView)!=null?a:window).innerWidth-l.clientWidth},after({doc:t,d:a}){let l=t.documentElement,n=l.clientWidth-l.offsetWidth,r=e-n;a.style(l,"paddingRight",`${r}px`)}}}function qt(){if(!At())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:a,meta:l}){function n(s){return l.containers.flatMap(o=>o()).some(o=>o.contains(s))}if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let s=me();s.style(t.documentElement,"scroll-behavior","auto"),a.add(()=>a.microTask(()=>s.dispose()))}a.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let r=null;a.addEventListener(t,"click",s=>{if(s.target instanceof HTMLElement)try{let o=s.target.closest("a");if(!o)return;let{hash:u}=new URL(o.href),d=t.querySelector(u);d&&!n(d)&&(r=d)}catch{}},!0),a.addEventListener(t,"touchmove",s=>{s.target instanceof HTMLElement&&!n(s.target)&&s.preventDefault()},{passive:!1}),a.add(()=>{window.scrollTo(0,window.pageYOffset+e),r&&r.isConnected&&(r.scrollIntoView({block:"nearest"}),r=null)})}}}function Ut(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Wt(e){let t={};for(let a of e)Object.assign(t,a(t));return t}let G=Nt(()=>new Map,{PUSH(e,t){var a;let l=(a=this.get(e))!=null?a:{doc:e,count:0,d:me(),meta:new Set};return l.count++,l.meta.add(t),this.set(e,l),this},POP(e,t){let a=this.get(e);return a&&(a.count--,a.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:a}){let l={doc:e,d:t,meta:Wt(a)},n=[qt(),Vt(),Ut()];n.forEach(({before:r})=>r==null?void 0:r(l)),n.forEach(({after:r})=>r==null?void 0:r(l))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});G.subscribe(()=>{let e=G.getSnapshot(),t=new Map;for(let[a]of e)t.set(a,a.documentElement.style.overflow);for(let a of e.values()){let l=t.get(a.doc)==="hidden",n=a.count!==0;(n&&!l||!n&&l)&&G.dispatch(a.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",a),a.count===0&&G.dispatch("TEARDOWN",a)}});function It(e,t,a){let l=Ht(G),n=c(()=>{let r=e.value?l.value.get(e.value):void 0;return r?r.count>0:!1});return pe([e,t],([r,s],[o],u)=>{if(!r||!s)return;G.dispatch("PUSH",r,a);let d=!1;u(()=>{d||(G.dispatch("POP",o??r,a),d=!0)})},{immediate:!0}),n}var Yt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Yt||{});let De=Symbol("DialogContext");function Ke(e){let t=ne(De,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Ke),a}return t}let he="DC8F892D-2EBD-447C-A4C8-A03058436FF4",zt=fe({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:he},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${Ce()}`}},emits:{close:e=>!0},setup(e,{emit:t,attrs:a,slots:l,expose:n}){var r;let s=h(!1);j(()=>{s.value=!0});let o=h(0),u=Ie(),d=c(()=>e.open===he&&u!==null?(u.value&P.Open)===P.Open:e.open),f=h(null),w=c(()=>Ue(f));if(n({el:f,$el:f}),!(e.open!==he||u!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof d.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${d.value===he?void 0:e.open}`);let v=c(()=>s.value&&d.value?0:1),y=c(()=>v.value===0),b=c(()=>o.value>1),p=ne(De,null)!==null,[m,k]=ot(),{resolveContainers:x,mainTreeNodeRef:E,MainTreeNode:H}=it({portals:m,defaultContainers:[c(()=>{var g;return(g=F.panelRef.value)!=null?g:f.value})]}),q=c(()=>b.value?"parent":"leaf"),_=c(()=>u!==null?(u.value&P.Closing)===P.Closing:!1),U=c(()=>p||_.value?!1:y.value),le=c(()=>{var g,$,M;return(M=Array.from(($=(g=w.value)==null?void 0:g.querySelectorAll("body > *"))!=null?$:[]).find(B=>B.id==="headlessui-portal-root"?!1:B.contains(D(E))&&B instanceof HTMLElement))!=null?M:null});Ve(le,U);let xe=c(()=>b.value?!0:y.value),Ee=c(()=>{var g,$,M;return(M=Array.from(($=(g=w.value)==null?void 0:g.querySelectorAll("[data-headlessui-portal]"))!=null?$:[]).find(B=>B.contains(D(E))&&B instanceof HTMLElement))!=null?M:null});Ve(Ee,xe),jt({type:"Dialog",enabled:c(()=>v.value===0),element:f,onUpdate:(g,$)=>{if($==="Dialog")return Q(g,{[Te.Add]:()=>o.value+=1,[Te.Remove]:()=>o.value-=1})}});let $e=ut({name:"DialogDescription",slot:c(()=>({open:d.value}))}),K=h(null),F={titleId:K,panelRef:h(null),dialogState:v,setTitleId(g){K.value!==g&&(K.value=g)},close(){t("close",!1)}};ue(De,F);let re=c(()=>!(!y.value||b.value));dt(x,(g,$)=>{F.close(),St(()=>$==null?void 0:$.focus())},re);let N=c(()=>!(b.value||v.value!==0));We((r=w.value)==null?void 0:r.defaultView,"keydown",g=>{N.value&&(g.defaultPrevented||g.key===ct.Escape&&(g.preventDefault(),g.stopPropagation(),F.close()))});let ee=c(()=>!(_.value||v.value!==0||p));return It(w,ee,g=>{var $;return{containers:[...($=g.containers)!=null?$:[],x]}}),Z(g=>{if(v.value!==0)return;let $=D(f);if(!$)return;let M=new ResizeObserver(B=>{for(let ve of B){let V=ve.target.getBoundingClientRect();V.x===0&&V.y===0&&V.width===0&&V.height===0&&F.close()}});M.observe($),g(()=>M.disconnect())}),()=>{let{id:g,open:$,initialFocus:M,...B}=e,ve={...a,ref:f,id:g,role:"dialog","aria-modal":v.value===0?!0:void 0,"aria-labelledby":K.value,"aria-describedby":$e.value},V={open:v.value===0};return O(je,{force:!0},()=>[O(ft,()=>O(pt,{target:f.value},()=>O(je,{force:!1},()=>O(oe,{initialFocus:M,containers:x,features:y.value?Q(q.value,{parent:oe.features.RestoreFocus,leaf:oe.features.All&~oe.features.FocusLock}):oe.features.None},()=>O(k,{},()=>ce({ourProps:ve,theirProps:{...B,...a},slot:V,attrs:a,slots:l,visible:v.value===0,features:ke.RenderStrategy|ke.Static,name:"Dialog"})))))),O(H)])}}}),Gt=fe({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${Ce()}`}},setup(e,{attrs:t,slots:a,expose:l}){let n=Ke("DialogPanel");l({el:n.panelRef,$el:n.panelRef});function r(s){s.stopPropagation()}return()=>{let{id:s,...o}=e,u={id:s,ref:n.panelRef,onClick:r};return ce({ourProps:u,theirProps:o,slot:{open:n.dialogState.value===0},attrs:t,slots:a,name:"DialogPanel"})}}});function Xt(e){let t={called:!1};return(...a)=>{if(!t.called)return t.called=!0,e(...a)}}function Le(e,...t){e&&t.length>0&&e.classList.add(...t)}function ye(e,...t){e&&t.length>0&&e.classList.remove(...t)}var Fe=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(Fe||{});function Qt(e,t){let a=me();if(!e)return a.dispose;let{transitionDuration:l,transitionDelay:n}=getComputedStyle(e),[r,s]=[l,n].map(o=>{let[u=0]=o.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u});return r!==0?a.setTimeout(()=>t("finished"),r+s):t("finished"),a.add(()=>t("cancelled")),a.dispose}function qe(e,t,a,l,n,r){let s=me(),o=r!==void 0?Xt(r):()=>{};return ye(e,...n),Le(e,...t,...a),s.nextFrame(()=>{ye(e,...a),Le(e,...l),s.add(Qt(e,u=>(ye(e,...l,...t),Le(e,...n),o(u))))}),s.add(()=>ye(e,...t,...a,...l,...n)),s.add(()=>o("cancelled")),s.dispose}function W(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let Pe=Symbol("TransitionContext");var Zt=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Zt||{});function Jt(){return ne(Pe,null)!==null}function Kt(){let e=ne(Pe,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function ea(){let e=ne(Me,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let Me=Symbol("NestingContext");function we(e){return"children"in e?we(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function et(e){let t=h([]),a=h(!1);j(()=>a.value=!0),J(()=>a.value=!1);function l(r,s=z.Hidden){let o=t.value.findIndex(({id:u})=>u===r);o!==-1&&(Q(s,{[z.Unmount](){t.value.splice(o,1)},[z.Hidden](){t.value[o].state="hidden"}}),!we(t)&&a.value&&(e==null||e()))}function n(r){let s=t.value.find(({id:o})=>o===r);return s?s.state!=="visible"&&(s.state="visible"):t.value.push({id:r,state:"visible"}),()=>l(r,z.Unmount)}return{children:t,register:n,unregister:l}}let tt=ke.RenderStrategy,Ae=fe({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:l,expose:n}){let r=h(0);function s(){r.value|=P.Opening,t("beforeEnter")}function o(){r.value&=~P.Opening,t("afterEnter")}function u(){r.value|=P.Closing,t("beforeLeave")}function d(){r.value&=~P.Closing,t("afterLeave")}if(!Jt()&&mt())return()=>O(at,{...e,onBeforeEnter:s,onAfterEnter:o,onBeforeLeave:u,onAfterLeave:d},l);let f=h(null),w=c(()=>e.unmount?z.Unmount:z.Hidden);n({el:f,$el:f});let{show:v,appear:y}=Kt(),{register:b,unregister:p}=ea(),m=h(v.value?"visible":"hidden"),k={value:!0},x=Ce(),E={value:!1},H=et(()=>{!E.value&&m.value!=="hidden"&&(m.value="hidden",p(x),d())});j(()=>{let F=b(x);J(F)}),Z(()=>{if(w.value===z.Hidden&&x){if(v.value&&m.value!=="visible"){m.value="visible";return}Q(m.value,{hidden:()=>p(x),visible:()=>b(x)})}});let q=W(e.enter),_=W(e.enterFrom),U=W(e.enterTo),le=W(e.entered),xe=W(e.leave),Ee=W(e.leaveFrom),$e=W(e.leaveTo);j(()=>{Z(()=>{if(m.value==="visible"){let F=D(f);if(F instanceof Comment&&F.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function K(F){let re=k.value&&!y.value,N=D(f);!N||!(N instanceof HTMLElement)||re||(E.value=!0,v.value&&s(),v.value||u(),F(v.value?qe(N,q,_,U,le,ee=>{E.value=!1,ee===Fe.Finished&&o()}):qe(N,xe,Ee,$e,le,ee=>{E.value=!1,ee===Fe.Finished&&(we(H)||(m.value="hidden",p(x),d()))})))}return j(()=>{pe([v],(F,re,N)=>{K(N),k.value=!1},{immediate:!0})}),ue(Me,H),vt(c(()=>Q(m.value,{visible:P.Open,hidden:P.Closed})|r.value)),()=>{let{appear:F,show:re,enter:N,enterFrom:ee,enterTo:g,entered:$,leave:M,leaveFrom:B,leaveTo:ve,...V}=e,nt={ref:f},lt={...V,...y.value&&v.value&&gt.isServer?{class:Ye([a.class,V.class,...q,..._])}:{}};return ce({theirProps:lt,ourProps:nt,slot:{},slots:l,attrs:a,features:tt,visible:m.value==="visible",name:"TransitionChild"})}}}),ta=Ae,at=fe({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:l}){let n=Ie(),r=c(()=>e.show===null&&n!==null?(n.value&P.Open)===P.Open:e.show);Z(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let s=h(r.value?"visible":"hidden"),o=et(()=>{s.value="hidden"}),u=h(!0),d={show:r,appear:c(()=>e.appear||!u.value)};return j(()=>{Z(()=>{u.value=!1,r.value?s.value="visible":we(o)||(s.value="hidden")})}),ue(Me,o),ue(Pe,d),()=>{let f=ht(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),w={unmount:e.unmount};return ce({ourProps:{...w,as:"template"},theirProps:{},slot:{},slots:{...l,default:()=>[O(ta,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...a,...w,...f},l.default)]},attrs:{},features:tt,visible:s.value==="visible",name:"Transition"})}}});const aa={class:"rounded-xl grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 grid-rows-2 md:max-h-72 gap-1 overflow-hidden"},na=["src"],la=i("div",{class:"fixed inset-0 bg-black/30","aria-hidden":"true"},null,-1),ra={class:"fixed inset-0 w-screen overflow-y-auto"},sa={class:"flex min-h-full items-center justify-center p-4 md:p-6 xl:p-10"},oa={class:"grid gap-4 grid-cols-1 md:grid-cols-2"},ia=["src"],ua={__name:"Gallery",props:{images:{type:Array,default:[]}},setup(e){wt(Et);const t=e,a=c(()=>t.images.slice(0,4)),l=s=>{let o=[];return s===0&&o.push("row-span-2",a.value.length<=1?"col-span-full":"col-span-2"),s===1&&o.push(a.value.length<=3?"row-span-2":"",a.value.length<=2?"col-span-2":""),s===2&&o.push(a.value.length<=4?"row-span-2":"","row-span-2",a.value.length<=3?"col-span-1":""),o.join(" ")},n=h(!1),r=s=>{n.value=s};return(s,o)=>(S(),T("div",aa,[(S(!0),T(ae,null,be(a.value,(u,d)=>(S(),T("div",{onClick:o[0]||(o[0]=f=>r(!0)),class:Ye(["group overflow-hidden",l(d)])},[i("img",{src:u.src,class:"object-cover w-full h-full transition cursor-pointer group-hover:scale-110",alt:""},null,8,na)],2))),256)),L(C(at),{show:n.value,as:"template"},{default:R(()=>[L(C(zt),{open:n.value,onClose:o[2]||(o[2]=u=>r(!1)),class:"relative z-50"},{default:R(()=>[L(C(Ae),{enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:R(()=>[la]),_:1}),i("div",ra,[i("div",sa,[L(C(Ae),{enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:R(()=>[L(C(Gt),{class:"w-full max-w-7xl rounded-xl p-6 bg-white relative"},{default:R(()=>[i("div",{onClick:o[1]||(o[1]=u=>r(!1)),class:"absolute top-0 left-full ml-4 w-16 h-16 bg-white flex flex-col items-center justify-center rounded-full hover:bg-gray-100 cursor-pointer"},[L(C(xt),{name:"hi-solid-x"})]),i("div",oa,[(S(!0),T(ae,null,be(t.images,u=>(S(),T("div",{class:"cursor-pointer [&:nth-child(3n)]:col-span-2",key:u.id},[i("img",{class:"w-full h-full object-cover",src:u.src,alt:""},null,8,ia)]))),128))])]),_:1})]),_:1})])])]),_:1},8,["open"])]),_:1},8,["show"])]))}};const da={__name:"Datepicker",props:{start:{type:Date,required:!0},end:{type:Date,required:!0},disabledDates:{type:Array,default:()=>[]}},emits:["setDates","invalidSelect"],setup(e,{emit:t}){const a=e,l=c(()=>[a.start,a.end]),n=t,r=d=>{n("setDates",{start:d[0],end:d[1]})},{errorToast:s}=Ge(),o=d=>{n("invalidSelect",d),s("Выбранный диапазон дат недоступен.")},u=c(()=>localStorage.getItem("color-theme")==="dark"||document.documentElement.classList.contains("dark"));return(d,f)=>(S(),ze(C(yt),{"model-value":l.value,"onUpdate:modelValue":r,"no-disabled-range":"","multi-calendars":"",dark:u.value,onInvalidSelect:o,"partial-range":!1,"auto-apply":"","month-change-on-scroll":!1,"max-range":"30","disabled-dates":a.disabledDates,"disable-year-select":"","month-name-format":"long",locale:"ru",format:"dd.MM.yyyy",placeholder:"Выберите даты","min-date":new Date,"enable-time-picker":!1,"hide-navigation":["month","year","time"]},null,8,["model-value","dark","disabled-dates","min-date"]))}},ca={key:0,class:"text-3xl font-semibold"},fa={class:"flex flex-col items-start lg:flex-row gap-6 justify-between mt-6 relative"},pa={class:"w-full lg:w-2/3"},ma=i("hr",{class:"my-4"},null,-1),va={class:"flex justify-between gap-x-6"},ga={class:"flex min-w-0 gap-x-4"},ha={class:"min-w-0 flex-auto"},ya={class:"text-sm font-semibold leading-6 text-gray-900"},_a={class:"mt-1 truncate text-xs leading-5 text-gray-500"},ba=i("div",{class:"hidden shrink-0 sm:flex sm:flex-col sm:items-end"},[i("p",{class:"text-sm leading-6 text-gray-900"},"Владелец"),i("p",{class:"mt-1 text-xs leading-5 text-gray-500"},[de(" На сайте "),i("time",{datetime:"2023-01-23T13:23Z"},"2 года")])],-1),wa=i("hr",{class:"my-4"},null,-1),xa={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},Ea=["innerHTML"],$a={class:"text-sm text-neutral-500"},Sa={key:1,class:"mt-4 py-4 border-t"},La={key:2,class:"mt-4 py-4 border-t"},ka={class:"relative lg:sticky rounded-lg shadow-lg border border-neutral-100 dark:border-slate-700 dark:shadow-gray-900 w-full lg:w-1/3 lg:top-28 p-6"},Ta={class:"flex flex-wrap gap-2 xl:gap-4"},Da={class:"text-2xl md:text-3xl font-semibold flex items-center gap-2 dark:text-white"},Fa={key:0,class:"flex flex-col"},Aa=i("span",{class:"text-neutral-500 dark:text-slate-400 font-light text-sm leading-none whitespace-nowrap"},"ночь в",-1),Ca=i("span",{class:"text-neutral-500 dark:text-slate-400 font-light text-sm leading-none"},"будни",-1),Oa=[Aa,Ca],Pa={key:1},Ma=i("span",{class:"text-neutral-500 dark:text-slate-400 font-light text-sm leading-none whitespace-nowrap"},"/ ночь",-1),Ba=[Ma],Ra={key:0,class:"text-2xl md:text-3xl font-semibold flex items-center gap-2"},ja=i("div",{class:"flex flex-col"},[i("span",{class:"text-neutral-500 font-light text-sm leading-none whitespace-nowrap"},"ночь в"),i("span",{class:"text-neutral-500 font-light text-sm leading-none"},"выходные")],-1),Ha={class:"mt-4"},Na={class:"flex flex-col gap-3 mt-4"},Va=i("div",{class:"font-light text-sm text-center mt-3 text-neutral-500"},"Пока вы ни за что не платите",-1),qa={class:"divide-y divide-gray-100 border-t mt-4"},Ua={class:"py-4 flex flex-col gap-2"},Wa={class:"flex w-full items-baseline justify-between"},Ia={class:"font-light leading-6 text-gray-600"},Ya={class:"font-light leading-none text-gray-600 outline-none border-b border-gray-400 hover:border-gray-600 transition"},za={class:"divide-y divide-gray-100 max-h-52 overflow-auto"},Ga={class:"font-light text-sm leading-6 text-gray-600"},Xa={class:"mt-1 text-sm font-medium leading-6 text-neutral-600"},Qa={class:"mt-1 font-medium leading-6 text-neutral-600"},Za={class:"flex w-full items-baseline justify-between"},Ja={class:"font-light leading-6"},Ka=i("div",{class:"font-light leading-none text-gray-600 outline-none border-b border-gray-400 hover:border-gray-600 transition"}," Сервисный сбор ",-1),en=i("div",{class:"max-h-52 p-4 text-neutral-600 leading-tight text-sm"},[de(" Благодаря этому сбору мы развиваем наш сервис и, в том числе, обеспечиваем путешественников круглосуточной поддержкой. "),i("br"),de(" Данный сервисный сбор удерживатеся при отмене без уважительных причин. ")],-1),tn={class:"mt-1 font-medium leading-6 text-neutral-600"},an={class:"border-t pt-4 flex flex-col gap-2"},nn={class:"flex w-full items-baseline justify-between"},ln=i("dt",{class:"font-bold leading-6 text-neutral-800"},"Итого:",-1),rn={class:"mt-1 font-bold leading-6 text-lg text-neutral-800"},hn={__name:"Apartment",props:{apartment:Array|Object},setup(e){var b;const t=e,a=()=>{var m;return[(m=t.apartment.data.category)==null?void 0:m.title,t.apartment.data.title??null,t.apartment.data.city].filter(k=>!!k).join(", ")},l=()=>[`${t.apartment.data.guests} гостей`,`${t.apartment.data.bedrooms} спальня`,`${t.apartment.data.beds} кровать`,`${t.apartment.data.bathrooms} ванная`].filter(m=>!!m).join(" · "),n=Lt({start:new Date,end:new Date(new Date().setDate(new Date().getDate()+2)),range:2,guests:2,children:0}),r=c(()=>{let p=null;return(n.range<=1||n.range===21)&&(p=`${n.range} ночь`),(n.range>1&&n.range<=5||n.range>21&&n.range<=24)&&(p=`${n.range} ночи`),(n.range>5&&n.range<=20||n.range>24)&&(p=`${n.range} ночей`),`${p}`}),s=p=>{const m=se(p.start),k=se(p.end);n.start=m.set("hours",0).set("minutes",0).toDate(),n.end=k.set("hours",0).set("minutes",0).toDate(),n.range=k.diff(m,"day")},o=h([]),u=c(()=>{var x;const p=se(n.start),m=se(n.end);o.value=[];let k=0;for(let E=p;E.isBefore(m);E=E.add(1,"day")){const H=E.day()===5||E.day()===6?t.apartment.data.weekends_price:t.apartment.data.weekdays_price,_=((x=t.apartment.data.dates.find(U=>se(U.date).isSame(E)))==null?void 0:x.price)??H;o.value.push({date:E.format("DD.MM.YYYY"),price:_}),k+=_}return k}),d=c(()=>Math.ceil(u.value*.15)),f=c(()=>u.value+d.value),{errorToast:w}=Ge(),v=()=>n.post(route("reservation-requests.store",{apartment:t.apartment.data.id}),{onError:p=>{w(Object.values(p)[0])}}),y=h([{center:[t.apartment.data.lat,t.apartment.data.lon],img:(b=t.apartment.data.media[0])==null?void 0:b.src}]);return(p,m)=>(S(),ze(_t,null,{default:R(()=>[L(bt,null,{default:R(()=>{var k,x,E,H,q;return[t.apartment.data.address?(S(),T("div",ca,A(t.apartment.data.address),1)):te("",!0),L(ua,{class:"mt-6",images:e.apartment.data.media},null,8,["images"]),i("div",fa,[i("div",pa,[L(kt,{title:a(),subtitle:l()},null,8,["title","subtitle"]),ma,i("div",va,[i("div",ga,[L(Dt,{src:t.apartment.data.owner.avatar,class:"h-12 w-12 flex-none rounded-full bg-gray-50"},null,8,["src"]),i("div",ha,[i("p",ya," Хозяин: "+A(t.apartment.data.owner.name),1),i("p",_a,A(t.apartment.data.owner.email),1)])]),ba]),t.apartment.data.features.length?(S(),T(ae,{key:0},[wa,i("div",xa,[(S(!0),T(ae,null,be(t.apartment.data.features,_=>(S(),T("div",{key:_.id,class:"flex items-center gap-3"},[i("div",{class:"text-neutral-800",innerHTML:_.icon},null,8,Ea),i("div",$a,A(_.title),1)]))),128))])],64)):te("",!0),t.apartment.data.description?(S(),T("div",Sa,A(t.apartment.data.description),1)):te("",!0),t.apartment.data.lon&&t.apartment.data.lat?(S(),T("div",La,[L(Ft,{lon:t.apartment.data.lon,lat:t.apartment.data.lat,"is-input":!1,markers:y.value},null,8,["lon","lat","markers"])])):te("",!0)]),i("div",ka,[i("div",Ta,[i("div",Da,[de(A((k=t.apartment.data.weekdays_price)==null?void 0:k.toLocaleString())+"₽ ",1),t.apartment.data.weekdays_price!==t.apartment.data.weekends_price?(S(),T("div",Fa,Oa)):(S(),T("div",Pa,Ba))]),t.apartment.data.weekdays_price!==t.apartment.data.weekends_price?(S(),T("div",Ra,[de(A((x=t.apartment.data.weekends_price)==null?void 0:x.toLocaleString())+"₽ ",1),ja])):te("",!0)]),i("div",Ha,[L(da,{range:"",start:C(n).start,end:C(n).end,"disabled-dates":t.apartment.data.all_disabled_dates??[],onSetDates:s},null,8,["start","end","disabled-dates"]),L(He,{modelValue:C(n).guests,"onUpdate:modelValue":m[0]||(m[0]=_=>C(n).guests=_),class:"mt-4",title:"Гости",subtitle:"Укажите количество гостей"},null,8,["modelValue"]),L(He,{modelValue:C(n).children,"onUpdate:modelValue":m[1]||(m[1]=_=>C(n).children=_),class:"mt-4",title:"Дети",subtitle:"0-12 лет"},null,8,["modelValue"])]),i("div",Na,[(t.apartment.data.fast_reserve,te("",!0)),L(Tt,{outline:!0,onClick:v,label:"Продолжить"})]),Va,i("dl",qa,[i("div",Ua,[i("div",Wa,[i("dt",Ia,[L(Ne,null,{toggle:R(()=>[i("div",Ya,A(r.value),1)]),content:R(()=>[i("dl",za,[(S(!0),T(ae,null,be(o.value,_=>{var U;return S(),T("div",{class:"py-1 px-4 flex w-full items-baseline justify-between",key:_.date},[i("dt",Ga,A(_.date),1),i("dd",Xa,A((U=_.price)==null?void 0:U.toLocaleString())+"₽ ",1)])}),128))])]),_:1})]),i("dd",Qa,A((E=u.value)==null?void 0:E.toLocaleString())+"₽ ",1)]),i("div",Za,[i("dt",Ja,[L(Ne,null,{toggle:R(()=>[Ka]),content:R(()=>[en]),_:1})]),i("dd",tn,A((H=d.value)==null?void 0:H.toLocaleString())+"₽ ",1)])])]),i("div",an,[i("div",nn,[ln,i("dd",rn,A((q=f.value)==null?void 0:q.toLocaleString())+"₽ ",1)])])])])]}),_:1})]),_:1}))}};export{hn as default};
