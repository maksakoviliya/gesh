import{_ as $,a as C,b as j,c as O}from"./Bedrooms-60c48229.js";import{_ as T}from"./ButtonComponent-c52d75cd.js";import{o as z,r as m,c as u,e,n as f,t as n,g as a,u as g,i as N,f as _,O as x,a as h}from"./app-bb5ba1fd.js";import{c as S,g as b}from"./index.esm.min-e0bd2fe6.js";import{b as V,c as B}from"./index-fcfb796a.js";import{i as q}from"./index-257e9876.js";import{_ as D}from"./ModalConfirmDeleting-c90f3386.js";import"./index-9ffa8bb0.js";import"./Heading-5d735395.js";const H={class:"col-span-1 cursor-pointer group"},M={class:"flex flex-col gap-2 w-full"},A={class:"aspect-square w-full relative overflow-hidden rounded-xl"},E=["src","alt"],F={class:"absolute top-3 start-3 opacity-0 group-hover:opacity-100 flex flex-col gap-2"},L=["data-tooltip-target"],G=["id"],I=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),J=["data-tooltip-target"],K=["id"],P=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),Q={class:"flex flex-row items-center gap-1"},R={class:"text-neutral-500 dark:text-slate-500 leading-none font-light text-sm"},U={class:"flex flex-row items-center justify-between gap-2"},rt={__name:"Card",props:{apartment:Object},setup(v){z(()=>{q()}),S(B,V);const t=v,l=()=>x.visit(route("account.apartments.step",{apartment:t.apartment.id,step:t.apartment.status!=="published"?t.apartment.step:1})),w=r=>{switch(r){case"draft":return"bg-zinc-100 text-neutral-800";case"pending":return"bg-sky-100 text-neutral-800";case"published":return"bg-green-300 text-neutral-900"}},o=m("Копировать ссылку"),k=r=>{o.value="Скопировано",navigator.clipboard.writeText(route("apartment",{apartment:r})).then(()=>{o.value="Скопировано",setTimeout(()=>{o.value="Копировать ссылку"},1500)})},i=m(!1),y=()=>{x.visit(route("account.apartments.delete",{apartment:t.apartment.id}),{method:"post"})};return(r,s)=>{var p,d;return h(),u("div",H,[e("div",M,[e("div",A,[e("img",{onClick:l,class:"object-cover h-full w-full group-hover:scale-110 transition",src:t.apartment.media.length?(p=t.apartment.media[0])==null?void 0:p.src:"/img/no-photo.jpeg",alt:t.apartment.title},null,8,E),e("div",{class:f(["absolute top-3 end-3 px-2 rounded-full text-xs",w(t.apartment.status)])},n(t.apartment.status_text),3),e("div",F,[t.apartment.status==="published"?(h(),u("div",{key:0,"data-tooltip-target":`link_${t.apartment.id}`,onClick:s[0]||(s[0]=c=>k(t.apartment.id)),class:"px-2 rounded-full text-xs w-8 h-8 aspect-square flex flex-col items-center justify-center bg-neutral-100 text-neutral-800 hover:bg-white transition dark:hover:bg-slate-800 dark:hover:text-slate-100"},[a(g(b),{name:"hi-solid-link"})],8,L)):N("",!0),e("div",{id:`link_${t.apartment.id}`,role:"tooltip",class:"absolute z-20 break-words whitespace-nowrap invisible inline-block px-3 py-2 text-xs font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[_(n(o.value)+" ",1),I],8,G),e("div",{onClick:s[1]||(s[1]=c=>i.value=!0),"data-tooltip-target":`delete_${t.apartment.id}`,class:"rounded-full text-xs bg-rose-300 flex w-7 h-7 flex-col items-center justify-center hover:bg-rose-400 transition text-neutral-800"},[a(g(b),{name:"hi-trash"})],8,J),e("div",{id:`delete_${t.apartment.id}`,role:"tooltip",class:"absolute z-20 break-words whitespace-nowrap invisible inline-block px-3 py-2 text-xs font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[_(" Удалить объект "),P],8,K)])]),e("div",{class:f(["font-light text-neutral-500 dark:text-slate-400",t.apartment.category?"":"opacity-30"])},n(((d=t.apartment.category)==null?void 0:d.title)??"Нет типа"),3),e("div",Q,[e("span",R,n(t.apartment.address),1)]),e("div",U,[a($,{guests:t.apartment.guests},null,8,["guests"]),a(C,{bedrooms:t.apartment.bedrooms},null,8,["bedrooms"]),a(j,{beds:t.apartment.beds},null,8,["beds"]),a(O,{bathrooms:t.apartment.bathrooms},null,8,["bathrooms"])]),a(T,{small:!0,onClick:l,label:"Редактировать"})]),a(D,{"is-open":i.value,onOnSubmit:y,onOnClose:s[2]||(s[2]=c=>i.value=!1)},null,8,["is-open"])])}}};export{rt as default};
