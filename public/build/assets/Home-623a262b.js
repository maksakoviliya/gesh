import{c as P,_ as z,a as K}from"./AppLayout-cefd2816.js";import{d as y,bE as j,o as f,f as m,a as l,t as g,n as G,bF as C,F as A,j as N,c as h,b as d,u as E,i as x,w}from"./app-26741625.js";import{_ as Q}from"./ButtonComponent-9ffcba33.js";import{c as I,g as U}from"./index.esm.min-cf59e4f5.js";import{a as J}from"./index-1cdd5fd6.js";const R="%[a-f0-9]{2}",S=new RegExp("("+R+")|([^%]+?)","gi"),$=new RegExp("("+R+")+","gi");function p(e,r){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;r=r||1;const t=e.slice(0,r),n=e.slice(r);return Array.prototype.concat.call([],p(t),p(n))}function W(e){try{return decodeURIComponent(e)}catch{let r=e.match(S)||[];for(let t=1;t<r.length;t++)e=p(r,t).join(""),r=e.match(S)||[];return e}}function X(e){const r={"%FE%FF":"��","%FF%FE":"��"};let t=$.exec(e);for(;t;){try{r[t[0]]=decodeURIComponent(t[0])}catch{const s=W(t[0]);s!==t[0]&&(r[t[0]]=s)}t=$.exec(e)}r["%C2"]="�";const n=Object.keys(r);for(const s of n)e=e.replace(new RegExp(s,"g"),r[s]);return e}function Y(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return X(e)}}function B(e,r){if(!(typeof e=="string"&&typeof r=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||r==="")return[];const t=e.indexOf(r);return t===-1?[]:[e.slice(0,t),e.slice(t+r.length)]}function Z(e,r){const t={};if(Array.isArray(r))for(const n of r){const s=Object.getOwnPropertyDescriptor(e,n);s!=null&&s.enumerable&&Object.defineProperty(t,n,s)}else for(const n of Reflect.ownKeys(e)){const s=Object.getOwnPropertyDescriptor(e,n);if(s.enumerable){const a=e[n];r(n,a,e)&&Object.defineProperty(t,n,s)}}return t}const v=e=>e==null,ee=e=>encodeURIComponent(e).replace(/[!'()*]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),_=Symbol("encodeFragmentIdentifier");function re(e){switch(e.arrayFormat){case"index":return r=>(t,n)=>{const s=t.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,[o(r,e),"[",s,"]"].join("")]:[...t,[o(r,e),"[",o(s,e),"]=",o(n,e)].join("")]};case"bracket":return r=>(t,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,[o(r,e),"[]"].join("")]:[...t,[o(r,e),"[]=",o(n,e)].join("")];case"colon-list-separator":return r=>(t,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,[o(r,e),":list="].join("")]:[...t,[o(r,e),":list=",o(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const r=e.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(n,s)=>s===void 0||e.skipNull&&s===null||e.skipEmptyString&&s===""?n:(s=s===null?"":s,n.length===0?[[o(t,e),r,o(s,e)].join("")]:[[n,o(s,e)].join(e.arrayFormatSeparator)])}default:return r=>(t,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,o(r,e)]:[...t,[o(r,e),"=",o(n,e)].join("")]}}function te(e){let r;switch(e.arrayFormat){case"index":return(t,n,s)=>{if(r=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),!r){s[t]=n;return}s[t]===void 0&&(s[t]={}),s[t][r[1]]=n};case"bracket":return(t,n,s)=>{if(r=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),!r){s[t]=n;return}if(s[t]===void 0){s[t]=[n];return}s[t]=[...s[t],n]};case"colon-list-separator":return(t,n,s)=>{if(r=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!r){s[t]=n;return}if(s[t]===void 0){s[t]=[n];return}s[t]=[...s[t],n]};case"comma":case"separator":return(t,n,s)=>{const a=typeof n=="string"&&n.includes(e.arrayFormatSeparator),c=typeof n=="string"&&!a&&u(n,e).includes(e.arrayFormatSeparator);n=c?u(n,e):n;const i=a||c?n.split(e.arrayFormatSeparator).map(H=>u(H,e)):n===null?n:u(n,e);s[t]=i};case"bracket-separator":return(t,n,s)=>{const a=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!a){s[t]=n&&u(n,e);return}const c=n===null?[]:n.split(e.arrayFormatSeparator).map(i=>u(i,e));if(s[t]===void 0){s[t]=c;return}s[t]=[...s[t],...c]};default:return(t,n,s)=>{if(s[t]===void 0){s[t]=n;return}s[t]=[...[s[t]].flat(),n]}}}function q(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,r){return r.encode?r.strict?ee(e):encodeURIComponent(e):e}function u(e,r){return r.decode?Y(e):e}function D(e){return Array.isArray(e)?e.sort():typeof e=="object"?D(Object.keys(e)).sort((r,t)=>Number(r)-Number(t)).map(r=>e[r]):e}function L(e){const r=e.indexOf("#");return r!==-1&&(e=e.slice(0,r)),e}function ne(e){let r="";const t=e.indexOf("#");return t!==-1&&(r=e.slice(t)),r}function O(e,r){return r.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):r.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function F(e){e=L(e);const r=e.indexOf("?");return r===-1?"":e.slice(r+1)}function b(e,r){r={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...r},q(r.arrayFormatSeparator);const t=te(r),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(const s of e.split("&")){if(s==="")continue;const a=r.decode?s.replace(/\+/g," "):s;let[c,i]=B(a,"=");c===void 0&&(c=a),i=i===void 0?null:["comma","separator","bracket-separator"].includes(r.arrayFormat)?i:u(i,r),t(u(c,r),i,n)}for(const[s,a]of Object.entries(n))if(typeof a=="object"&&a!==null)for(const[c,i]of Object.entries(a))a[c]=O(i,r);else n[s]=O(a,r);return r.sort===!1?n:(r.sort===!0?Object.keys(n).sort():Object.keys(n).sort(r.sort)).reduce((s,a)=>{const c=n[a];return c&&typeof c=="object"&&!Array.isArray(c)?s[a]=D(c):s[a]=c,s},Object.create(null))}function V(e,r){if(!e)return"";r={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...r},q(r.arrayFormatSeparator);const t=c=>r.skipNull&&v(e[c])||r.skipEmptyString&&e[c]==="",n=re(r),s={};for(const[c,i]of Object.entries(e))t(c)||(s[c]=i);const a=Object.keys(s);return r.sort!==!1&&a.sort(r.sort),a.map(c=>{const i=e[c];return i===void 0?"":i===null?o(c,r):Array.isArray(i)?i.length===0&&r.arrayFormat==="bracket-separator"?o(c,r)+"[]":i.reduce(n(c),[]).join("&"):o(c,r)+"="+o(i,r)}).filter(c=>c.length>0).join("&")}function M(e,r){var s;r={decode:!0,...r};let[t,n]=B(e,"#");return t===void 0&&(t=e),{url:((s=t==null?void 0:t.split("?"))==null?void 0:s[0])??"",query:b(F(e),r),...r&&r.parseFragmentIdentifier&&n?{fragmentIdentifier:u(n,r)}:{}}}function T(e,r){r={encode:!0,strict:!0,[_]:!0,...r};const t=L(e.url).split("?")[0]||"",n=F(e.url),s={...b(n,{sort:!1}),...e.query};let a=V(s,r);a&&(a=`?${a}`);let c=ne(e.url);if(e.fragmentIdentifier){const i=new URL(t);i.hash=e.fragmentIdentifier,c=r[_]?i.hash:`#${e.fragmentIdentifier}`}return`${t}${a}${c}`}function k(e,r,t){t={parseFragmentIdentifier:!0,[_]:!1,...t};const{url:n,query:s,fragmentIdentifier:a}=M(e,t);return T({url:n,query:Z(s,r),fragmentIdentifier:a},t)}function se(e,r,t){const n=Array.isArray(r)?s=>!r.includes(s):(s,a)=>!r(s,a);return k(e,n,t)}const ae=Object.freeze(Object.defineProperty({__proto__:null,exclude:se,extract:F,parse:b,parseUrl:M,pick:k,stringify:V,stringifyUrl:T},Symbol.toStringTag,{value:"Module"})),ce=["innerHTML"],ie={class:"font-medium text-sm"},oe={__name:"CategoryBox",props:{category:Array|Object,selected:Boolean},setup(e){const r=e,t=y(()=>`flex
        flex-col
        items-center
        justify-center
        gap-2
        p-3
        border-b-2
        hover:text-neutral-800
        transition
        cursor-pointer
        ${r.selected?"border-b-neutral-800":"border-transparent"}
    ${r.selected?"text-neutral-800":"text-neutral-500"}`),n=j(),s=()=>{const a=n.props.query;a.category=a.category===r.category.slug?null:r.category.slug;const c=ae.stringifyUrl({url:"/",query:a},{skipNull:!0});C.visit(c)};return(a,c)=>(f(),m("div",{onClick:s,class:G(t.value)},[l("div",{innerHTML:e.category.icon},null,8,ce),l("div",ie,g(e.category.title),1)],2))}},le={class:"pt-4 flex flex-row items-center justify-between overflow-x-auto"},fe={__name:"Categories",props:{categories:Array|null},setup(e){const r=j(),t=y(()=>r.props.query.category??null);return(n,s)=>(f(),m("div",le,[(f(!0),m(A,null,N(e.categories,a=>(f(),h(oe,{category:a,selected:a.slug===t.value,key:a.id},null,8,["category","selected"]))),128))]))}},ue={class:"flex items-center gap-1 font-semibold text-sm"},de={__name:"Rooms",props:{rooms:Number|String},setup(e){return I(J),(r,t)=>(f(),m("div",ue,[d(E(U),{name:"md-bed",class:"text-neutral-500"}),x(" "+g(e.rooms),1)]))}},me={class:"flex items-center gap-1 font-semibold text-sm"},ge={__name:"Guests",props:{guests:Number|String},setup(e){return I(P),(r,t)=>(f(),m("div",me,[d(E(U),{name:"hi-users",class:"text-neutral-500"}),x(" "+g(e.guests),1)]))}},pe={class:"flex flex-col gap-2 w-full"},_e={class:"aspect-square w-full relative overflow-hidden rounded-xl"},ye=["src","alt"],he=l("div",{class:"absolute top-3 right-3"},null,-1),xe={class:"font-light text-neutral-500"},Fe={class:"flex flex-row items-center gap-1"},be={class:"font-semibold"},we=l("span",{class:"text-neutral-500 font-light text-sm"},"ночь",-1),Se={class:"flex flex-row items-center gap-2"},$e={__name:"AppartmentsCard",props:{apartment:Array|Object},setup(e){const r=e,t=y(()=>{var s,a;return((a=(s=r.apartment.images)==null?void 0:s[0])==null?void 0:a.src)??"/img/no-photo.webp"}),n=()=>C.visit(route("apartment",r.apartment.id));return(s,a)=>(f(),m("div",{class:"col-span-1 cursor-pointer group",onClick:n},[l("div",pe,[l("div",_e,[l("img",{class:"object-cover h-full w-full group-hover:scale-110 transition",src:t.value,alt:r.apartment.title},null,8,ye),he]),l("div",xe,g(r.apartment.categories.map(c=>c.title).join(", ")),1),l("div",Fe,[l("div",be,[x(g(r.apartment.price.toLocaleString("ru"))+"₽ ",1),we])]),l("div",Se,[d(de,{rooms:r.apartment.rooms},null,8,["rooms"]),d(ge,{guests:r.apartment.guests},null,8,["guests"])]),d(Q,{small:!0,label:"Забронировать"})])]))}},Oe={class:"pt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-8"},je={__name:"Apartments",props:{apartments:Array|null},setup(e){return(r,t)=>(f(),m("div",Oe,[(f(!0),m(A,null,N(e.apartments.data,n=>(f(),h($e,{key:n.id,apartment:n},null,8,["apartment"]))),128))]))}},Ue={__name:"Home",props:{categories:Array|null,apartments:Array|null},setup(e){return(r,t)=>(f(),h(z,null,{default:w(()=>[d(K,null,{default:w(()=>[d(fe,{categories:e.categories.data},null,8,["categories"]),d(je,{apartments:e.apartments},null,8,["apartments"])]),_:1})]),_:1}))}};export{Ue as default};
