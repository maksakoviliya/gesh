import{R as I,S as z,U as G,V as K,F as $,W as Q,X as W,Y as J,_ as X,G as Y,$ as Z,H as ee,a0 as te,a1 as se,a2 as ae,a3 as oe,a4 as ne,a5 as re,a6 as ie,a7 as le,a8 as ue,d as ce,a9 as de,c as E,h as M,f as j,a as g,aa as me,ab as pe,ac as fe,ad as he,z as ve,ae as ge,i as N,b as f,af as be,ag as Te,l as _e,ah as ye,ai as we,aj as Oe,ak as Ce,al as Se,am as Be,an as Ee,ao as Me,ap as Pe,aq as Re,ar as ke,as as xe,P as Ve,at as $e,B as je,I as Ne,au as He,av as De,aw as Ae,ax as qe,ay as Fe,az as Le,aA as Ue,aB as Ie,aC as ze,aD as Ge,D as Ke,aE as Qe,aF as We,aG as Je,aH as Xe,aI as Ye,aJ as Ze,C as et,s as tt,n as st,A as at,M as ot,aK as nt,aL as rt,aM as it,N as lt,aN as ut,aO as ct,q as dt,aP as mt,aQ as pt,Q as ft,aR as ht,x as vt,aS as gt,o as _,aT as bt,aU as Tt,aV as _t,aW as yt,aX as wt,k as Ot,aY as Ct,g as H,aZ as St,J as Bt,j as Et,r as Mt,a_ as Pt,a$ as Rt,E as kt,b0 as xt,b1 as Vt,b2 as $t,b3 as jt,b4 as Nt,b5 as Ht,b6 as Dt,b7 as At,b8 as qt,b9 as Ft,ba as Lt,t as Ut,bb as It,bc as zt,bd as Gt,p as Kt,be as Qt,bf as Wt,bg as Jt,bh as Xt,u as m,bi as Yt,bj as Zt,bk as es,bl as ts,bm as ss,m as as,bn as os,v as ns,bo as rs,bp as is,bq as ls,br as us,O as cs,bs as ds,bt as ms,y as ps,bu as fs,bv as hs,bw as vs,bx as gs,w as y,by as bs,e as Ts,K as _s,bz as ys,L as ws,bA as Os,bB as Cs,bC as Ss,T as Bs,Z as Es}from"./app-25c3dbbf.js";import{_ as Ms,a as x,b as Ps}from"./PhoneInput-e9c7308c.js";import{_ as Rs}from"./Heading-c40b25a6.js";import{_ as V}from"./ButtonComponent-2bf9a9f7.js";import ks from"./SocialAuth-dd200556.js";import"./index.esm.min-6c1897d9.js";const xs=()=>{},Vs=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:I,BaseTransitionPropsValidators:z,Comment:G,EffectScope:K,Fragment:$,KeepAlive:Q,ReactiveEffect:W,Static:J,Suspense:X,Teleport:Y,Text:Z,Transition:ee,TransitionGroup:te,VueElement:se,assertNumber:ae,callWithAsyncErrorHandling:oe,callWithErrorHandling:ne,camelize:re,capitalize:ie,cloneVNode:le,compatUtils:ue,compile:xs,computed:ce,createApp:de,createBlock:E,createCommentVNode:M,createElementBlock:j,createElementVNode:g,createHydrationRenderer:me,createPropsRestProxy:pe,createRenderer:fe,createSSRApp:he,createSlots:ve,createStaticVNode:ge,createTextVNode:N,createVNode:f,customRef:be,defineAsyncComponent:Te,defineComponent:_e,defineCustomElement:ye,defineEmits:we,defineExpose:Oe,defineModel:Ce,defineOptions:Se,defineProps:Be,defineSSRCustomElement:Ee,defineSlots:Me,get devtools(){return Pe},effect:Re,effectScope:ke,getCurrentInstance:xe,getCurrentScope:Ve,getTransitionRawChildren:$e,guardReactiveProps:je,h:Ne,handleError:He,hasInjectionContext:De,hydrate:Ae,initCustomFormatter:qe,initDirectivesForSSR:Fe,inject:Le,isMemoSame:Ue,isProxy:Ie,isReactive:ze,isReadonly:Ge,isRef:Ke,isRuntimeOnly:Qe,isShallow:We,isVNode:Je,markRaw:Xe,mergeDefaults:Ye,mergeModels:Ze,mergeProps:et,nextTick:tt,normalizeClass:st,normalizeProps:at,normalizeStyle:ot,onActivated:nt,onBeforeMount:rt,onBeforeUnmount:it,onBeforeUpdate:lt,onDeactivated:ut,onErrorCaptured:ct,onMounted:dt,onRenderTracked:mt,onRenderTriggered:pt,onScopeDispose:ft,onServerPrefetch:ht,onUnmounted:vt,onUpdated:gt,openBlock:_,popScopeId:bt,provide:Tt,proxyRefs:_t,pushScopeId:yt,queuePostFlushCb:wt,reactive:Ot,readonly:Ct,ref:H,registerRuntimeCompiler:St,render:Bt,renderList:Et,renderSlot:Mt,resolveComponent:Pt,resolveDirective:Rt,resolveDynamicComponent:kt,resolveFilter:xt,resolveTransitionHooks:Vt,setBlockTracking:$t,setDevtoolsHook:jt,setTransitionHooks:Nt,shallowReactive:Ht,shallowReadonly:Dt,shallowRef:At,ssrContextKey:qt,ssrUtils:Ft,stop:Lt,toDisplayString:Ut,toHandlerKey:It,toHandlers:zt,toRaw:Gt,toRef:Kt,toRefs:Qt,toValue:Wt,transformVNodeArgs:Jt,triggerRef:Xt,unref:m,useAttrs:Yt,useCssModule:Zt,useCssVars:es,useModel:ts,useSSRContext:ss,useSlots:as,useTransitionState:os,vModelCheckbox:ns,vModelDynamic:rs,vModelRadio:is,vModelSelect:ls,vModelText:us,vShow:cs,version:ds,warn:ms,watch:ps,watchEffect:fs,watchPostEffect:hs,watchSyncEffect:vs,withAsyncContext:gs,withCtx:y,withDefaults:bs,withDirectives:Ts,withKeys:_s,withMemo:ys,withModifiers:ws,withScopeId:Os},Symbol.toStringTag,{value:"Module"}));var D={exports:{}};const $s=Cs(Vs);(function(w,n){(function(T,d){w.exports=d($s)})(Ss,b=>(()=>{var T={772:(s,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.default=(c,O)=>{const h=c.__vccOpts||c;for(const[C,S]of O)h[C]=S;return h}},976:s=>{s.exports=b}},d={};function o(s){var u=d[s];if(u!==void 0)return u.exports;var c=d[s]={exports:{}};return T[s](c,c.exports,o),c.exports}o.d=(s,u)=>{for(var c in u)o.o(u,c)&&!o.o(s,c)&&Object.defineProperty(s,c,{enumerable:!0,get:u[c]})},o.o=(s,u)=>Object.prototype.hasOwnProperty.call(s,u),o.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var l={};return(()=>{o.r(l),o.d(l,{ToastComponent:()=>P,ToastPlugin:()=>k,ToastPositions:()=>r,default:()=>L,useToast:()=>R});var s=o(976);const u=(0,s.createElementVNode)("div",{class:"v-toast__icon"},null,-1),c=["innerHTML"];function O(e,t,a,i,p,v){return(0,s.openBlock)(),(0,s.createBlock)(s.Transition,{"enter-active-class":e.transition.enter,"leave-active-class":e.transition.leave},{default:(0,s.withCtx)(()=>[(0,s.withDirectives)((0,s.createElementVNode)("div",{ref:"root",role:"alert",class:(0,s.normalizeClass)(["v-toast__item",[`v-toast__item--${e.type}`,`v-toast__item--${e.position}`]]),onMouseover:t[0]||(t[0]=U=>e.toggleTimer(!0)),onMouseleave:t[1]||(t[1]=U=>e.toggleTimer(!1)),onClick:t[2]||(t[2]=function(){return e.whenClicked&&e.whenClicked(...arguments)})},[u,(0,s.createElementVNode)("p",{class:"v-toast__text",innerHTML:e.message},null,8,c)],34),[[s.vShow,e.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function h(e){var t;typeof e.remove<"u"?e.remove():(t=e.parentNode)==null||t.removeChild(e)}function C(e,t,a){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const p=(0,s.h)(e,t,i),v=document.createElement("div");return v.classList.add("v-toast--pending"),a.appendChild(v),(0,s.render)(p,v),p.component}class S{constructor(t,a){this.startedAt=Date.now(),this.callback=t,this.delay=a,this.timer=setTimeout(t,a)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const r=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function A(e){return{all:e=e||new Map,on:function(t,a){var i=e.get(t);i?i.push(a):e.set(t,[a])},off:function(t,a){var i=e.get(t);i&&(a?i.splice(i.indexOf(a)>>>0,1):e.set(t,[]))},emit:function(t,a){var i=e.get(t);i&&i.slice().map(function(p){p(a)}),(i=e.get("*"))&&i.slice().map(function(p){p(t,a)})}}}const B=A(),q=(0,s.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:r.BOTTOM_RIGHT,validator(e){return Object.values(r).includes(e)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),B.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const e=document.body;e.appendChild(this.parentTop),e.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const e=this.$refs.root;(0,s.render)(null,e),h(e)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const e=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),h(e),this.isActive=!0,this.duration&&(this.timer=new S(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(e){!this.pauseOnHover||!this.timer||(e?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case r.TOP:case r.TOP_RIGHT:case r.TOP_LEFT:return this.parentTop;case r.BOTTOM:case r.BOTTOM_RIGHT:case r.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case r.TOP:case r.TOP_RIGHT:case r.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case r.BOTTOM:case r.BOTTOM_RIGHT:case r.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){B.off("toast-clear",this.dismiss)}});var F=o(772);const P=(0,F.default)(q,[["render",O]]),R=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(t){let a=null;typeof t=="string"&&(a=t);const p=Object.assign({},{message:a},e,t);return{dismiss:C(P,p,document.body).ctx.dismiss}},clear(){B.emit("toast-clear")},success(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:t,type:"success"},a))},error(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:t,type:"error"},a))},info(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:t,type:"info"},a))},warning(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:t,type:"warning"},a))},default(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:t,type:"default"},a))}}},k={install:function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=R(t);e.config.globalProperties.$toast=a,e.provide("$toast",a)}},L=k})(),l})())})(D);var js=D.exports;const Ns=js.useToast();function Hs(){return{successToast:n=>{Ns.success(n,{position:"top"})}}}const Ds={class:"flex flex-col gap-4"},As={class:"flex items-center gap-4"},qs=g("hr",{class:"my-4"},null,-1),Fs={class:"flex flex-col gap-2"},Js={__name:"Login",props:{canResetPassword:Boolean,status:String},setup(w){const n=Bs({email:"",phone:"",password:""}),{successToast:b}=Hs(),T=()=>{n.transform(o=>(d.value==="email"?delete o.phone:delete o.email,console.log("data",o),o)).post(route("login"),{onError:o=>n.setError("auth",o.message),onFinish:()=>{b("Успешная регистрация."),n.reset("password")}})},d=H("phone");return(o,l)=>(_(),j($,null,[f(m(Es),{title:"Log in"}),f(Ms,{actionLabel:"Войти",handleSubmit:T},{title:y(()=>[N(" Вход ")]),body:y(()=>[g("div",Ds,[f(Rs,{title:"С возвращением",subtitle:"Войти в свой аккаунт"}),g("div",As,[f(V,{small:!0,onClick:l[0]||(l[0]=s=>d.value="email"),outline:d.value!=="email",label:"Почта"},null,8,["outline"]),f(V,{small:!0,onClick:l[1]||(l[1]=s=>d.value="phone"),outline:d.value!=="phone",label:"Телефон"},null,8,["outline"])]),d.value==="email"?(_(),E(x,{key:0,id:"email",modelValue:m(n).email,"onUpdate:modelValue":l[2]||(l[2]=s=>m(n).email=s),label:"Email",error:m(n).errors.email,required:""},null,8,["modelValue","error"])):M("",!0),d.value==="phone"?(_(),E(Ps,{key:1,id:"phone",modelValue:m(n).phone,"onUpdate:modelValue":l[3]||(l[3]=s=>m(n).phone=s),label:"Телефон",error:m(n).errors.phone??m(n).errors.email,required:""},null,8,["modelValue","error"])):M("",!0),f(x,{id:"password",modelValue:m(n).password,"onUpdate:modelValue":l[4]||(l[4]=s=>m(n).password=s),label:"Пароль",error:m(n).errors.password,type:"password",required:""},null,8,["modelValue","error"])])]),footer:y(()=>[qs,g("div",Fs,[f(ks)])]),_:1})],64))}};export{Js as default};
