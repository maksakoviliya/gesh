import{Q as C,q as j,r as B,p as v,c as n,e as d,F as N,b as S,g,u as i,t as x,w as $,i as q,G as k,a as c,n as T,f as D}from"./app-12a90811.js";import{_ as F}from"./Counter-115e2dd7.js";import{_ as O}from"./ButtonComponent-0ff4f35b.js";import"./index.esm.min-cd6ac225.js";import"./index-b814d10c.js";const z={class:"w-full"},E={class:"p-2 border dark:border-slate-600 rounded-2xl flex gap-2 overflow-x-scroll no-scrollbar"},G=["onClick","disabled"],L={class:"flex items-center justify-between"},M={class:"text-neutral-900 text-2xl font-bold dark:text-neutral-200"},Q={key:0,class:"absolute inset-0 bg-white dark:bg-slate-800 flex flex-col items-center justify-center dark:text-neutral-400"},K={__name:"BookingSeats",props:{drive:{type:Object}},setup(_){var p,b,m,f;const o=_,u=C(),e=j({date:(b=(p=u.props)==null?void 0:p.query)==null?void 0:b.date,passengers:((f=(m=u.props)==null?void 0:m.query)==null?void 0:f.passengers)??1}),y=B(!1),h=a=>{e.date=a},w=v(()=>{var a,s,r,t;return console.log((s=(a=o.drive)==null?void 0:a.data)==null?void 0:s.price,e.passengers),((t=(r=o.drive)==null?void 0:r.data)==null?void 0:t.price)*((e==null?void 0:e.passengers)??1)}),V=v(()=>{var s,r,t;let a=(s=o.drive)==null?void 0:s.data.passengers_limit;if(e.date){const l=(r=o.drive)==null?void 0:r.data.dates[e.date];a=(t=l==null?void 0:l.data)==null?void 0:t.available_seats}return`Осталось свободных мест: ${a-e.passengers}`});return(a,s)=>{var r;return c(),n("div",z,[d("div",E,[(c(!0),n(N,null,S(Object.keys((r=o.drive)==null?void 0:r.data.dates),t=>(c(),n("button",{key:t,onClick:k(l=>h(t),["prevent"]),disabled:y.value,class:T(["p-4 transition rounded-xl text-sm font-bold cursor-pointer disabled:opacity-40 disabled:pointer-events-none",i(e).date===t?"bg-sky-200 text-neutral-900 dark:bg-sky-800 dark:text-neutral-200":"bg-gray-200 text-neutral-800 hover:bg-sky-100 dark:bg-slate-700 dark:text-neutral-400 dark:hover:bg-sky-900 dark:hover:text-neutral-300"])},x(t.slice(0,5)),11,G))),128))]),d("form",{onSubmit:s[1]||(s[1]=k(()=>{},["prevent"])),class:"mt-4 border dark:border-slate-600 rounded-2xl p-4 relative overflow-hidden"},[g(F,{modelValue:i(e).passengers,"onUpdate:modelValue":s[0]||(s[0]=t=>i(e).passengers=t),title:"Количество мест",subtitle:V.value},null,8,["modelValue","subtitle"]),d("div",L,[d("h2",M,x(w.value)+" ₽",1),g(O,{"auto-width":"",class:"px-4 mt-5 self-center"},{default:$(()=>[D(" Забронировать ")]),_:1})]),i(e).date?q("",!0):(c(),n("div",Q," Выберите желаемую дату поездки "))],32)])}}};export{K as default};
