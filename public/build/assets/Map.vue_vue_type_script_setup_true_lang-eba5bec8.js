import{j as v}from"./index-8e9ebee5.js";import{c as k,g as w}from"./index.esm.min-1eebbaa9.js";import{d as y,bk as x,r as $,q as L,a as l,c,e as s,w as n,u as e,bP as C,bQ as V,bR as j,bS as B,bT as N,bU as S,g as i,t as z,F as U,b as E,l as F,bV as I,bW as M,f as R}from"./app-fc6ef90b.js";const q={class:"h-[60vh] max-h-screen overflow-hidden rounded-xl relative shadow-lg"},A={class:"w-12 h-12 rounded-full overflow-hidden bg-white p-1 cursor-pointer"},D=["src","onClick"],H=["onClick"],P={class:"rounded-full w-full h-full flex items-center justify-center font-semibold text-sm text-neutral-800 bg-gray-300"},Q={key:0,class:"absolute bottom-1/2 left-1/2 -translate-x-1/2 text-sky-500"},J=y({__name:"Map",props:{lon:{type:[String,Number,null],default:87.98709856259356},lat:{type:[String,Number,null],default:52.92596754124867},markers:{type:Array,default:()=>[]},isInput:{type:Boolean,default:!0}},emits:["updateLon","updateLat"],setup(f,{emit:_}){const a=x(null),o=f,p=[o.lat,o.lon],u=_,h=b=>{u("updateLat",a.value.center[0]),u("updateLon",a.value.center[1])};k(v),$(document.documentElement.classList.contains("dark"));const g=L(()=>"light");return(b,d)=>(l(),c("div",q,[s(e(M),{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=t=>a.value=t),settings:{location:{center:p,zoom:13}},width:"100%",height:"100%"},{default:n(()=>[s(e(C),{settings:{onUpdate:h}},null,8,["settings"]),s(e(V),{settings:{position:"right"}},{default:n(()=>[s(e(j))]),_:1}),s(e(B),{settings:{theme:g.value}},null,8,["settings"]),s(e(N)),s(e(S),null,{cluster:n(({coordinates:t,length:m})=>[i("div",{class:"bg-white p-1 rounded-full w-12 h-12 cursor-pointer",onClick:r=>a.value.setLocation({coordinates:t,zoom:14})},[i("div",P,z(m),1)],8,H)]),default:n(()=>[(l(!0),c(U,null,E(o.markers,t=>(l(),F(e(I),{settings:{coordinates:t.center},key:t.img},{default:n(()=>[i("div",A,[i("img",{alt:"marker.img",class:"w-full h-full object-cover rounded-full",src:t.img,onClick:m=>{var r;return(r=a.value)==null?void 0:r.setLocation({center:t.center,zoom:12,duration:400})}},null,8,D)])]),_:2},1032,["settings"]))),128))]),_:1})]),_:1},8,["modelValue","settings"]),o.isInput?(l(),c("div",Q,[s(e(w),{name:"hi-location-marker",scale:"2.8"})])):R("",!0)]))}});export{J as _};
