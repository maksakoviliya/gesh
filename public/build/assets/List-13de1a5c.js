import{e as N,_ as O,q as B}from"./AppLayout-11f8adf2.js";import{_ as V}from"./Breadcrumbs-ba2674e7.js";import{_ as R}from"./Heading-49a5d682.js";import{_ as j}from"./EmptyState-910d961c.js";import{p as S,a as s,c as n,g as t,t as i,F as h,i as v,e as l,O as b,r as C,Q as F,l as _,w as m,f as y,b as L}from"./app-b5308e02.js";import"./index.esm.min-1b27cd8b.js";import"./index-112d99a0.js";import{_ as H,a as M}from"./CardInList-8e9247bb.js";import{T as A,_ as T}from"./Tab-efec15d6.js";import"./index-33f57259.js";import"./ButtonComponent-461f0820.js";import"./Input-535d973a.js";import"./index-9ef572b0.js";import"./Avatar-fc54699b.js";import"./useToasts-417f24ae.js";import"./index-9ffa8bb0.js";import"./_plugin-vue_export-helper-c27b6911.js";const D={class:"rounded-lg border cursor-pointer hover:shadow-lg hover:bg-gray-50 transition"},E={class:"h-24 w-32 rounded-lg overflow-hidden"},I=["src"],Q={class:"flex flex-col justify-start"},U={class:"text-gray-600 font-light dark:text-slate-200"},z={class:"text-gray-400 font-light text-sm dark:text-slate-200"},G=["innerHTML"],J={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},K=t("dt",{class:"font-light leading-6 text-gray-600"},[t("div",null,"Даты:")],-1),P={class:"mt-1 font-medium leading-6 text-neutral-600"},W={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},X=t("dt",{class:"font-light leading-6 text-gray-600"},[t("div",null,"Ночи:")],-1),Y={class:"mt-1 font-medium leading-6 text-neutral-600"},Z={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},tt=t("dt",{class:"font-light leading-6 text-gray-600 dark:text-slate-300"},[t("div",null,"Гости:")],-1),et={class:"mt-1 font-medium leading-6 text-neutral-600 dark:text-slate-400"},st={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},rt=t("dt",{class:"font-light leading-6 text-gray-600"},[t("div",null,"Дети:")],-1),at={class:"mt-1 font-medium leading-6 text-neutral-600"},it={class:"py-2 px-4 flex w-full items-baseline justify-between text-sm"},nt=t("dt",{class:"font-light leading-6 text-gray-600"},[t("div",null,"Стоимость:")],-1),ot={class:"mt-1 font-medium leading-6 text-neutral-600 flex items-center gap-2"},lt={__name:"ReservationRequestInList",props:{reservation_request:Object},setup(o){const e=o,x=S(()=>{var c,r,a,u;return[`${(c=e.reservation_request.apartment)==null?void 0:c.guests}&nbsp;гостей`,`${(r=e.reservation_request.apartment)==null?void 0:r.bedrooms}&nbsp;спальня`,`${(a=e.reservation_request.apartment)==null?void 0:a.beds}&nbsp;кровать`,`${(u=e.reservation_request.apartment)==null?void 0:u.bathrooms}&nbsp;ванная`].filter(g=>!!g).join(" · ")}),d=()=>{b.visit(route("apartment",{apartment:e.reservation_request.apartment.id}))},f=()=>{b.visit(route("account.apartments.chat",{apartment:e.reservation_request.apartment.id}))};return(p,c)=>{var r,a,u,g,q,k,$,w;return s(),n("div",D,[t("div",{class:"p-4 flex items-stretch gap-2",onClick:d},[t("div",E,[t("img",{src:(a=(r=e.reservation_request.apartment)==null?void 0:r.media[0])==null?void 0:a.src,class:"h-full w-full object-cover",alt:""},null,8,I)]),t("div",Q,[t("div",U,i(((u=e.reservation_request.apartment)==null?void 0:u.title)??((q=(g=e.reservation_request.apartment)==null?void 0:g.category)==null?void 0:q.title_single))+" ("+i((k=e.reservation_request.apartment)==null?void 0:k.city)+") ",1),t("div",z,i((w=($=e.reservation_request.apartment)==null?void 0:$.category)==null?void 0:w.title_single),1),t("div",{class:"font-light text-xs text-gray-600 mt-auto dark:text-slate-200",innerHTML:x.value},null,8,G)])]),t("dl",{class:"divide-y border-t",onClick:f},[t("div",J,[K,t("dd",P," с "+i(e.reservation_request.start)+" по "+i(e.reservation_request.end),1)]),t("div",W,[X,t("dd",Y,i(e.reservation_request.range)+" ночи",1)]),t("div",Z,[tt,t("dd",et,i(e.reservation_request.guests)+" гостей ",1)]),t("div",st,[rt,t("dd",at,[e.reservation_request.children?(s(),n(h,{key:0},[v(i(e.reservation_request.children)+" детей ",1)],64)):(s(),n(h,{key:1},[v(" - ")],64))])]),t("div",it,[nt,t("dd",ot,[v(i(e.reservation_request.price.toLocaleString())+"₽ ",1),l(H,{label:"Ожидает одобрения",type:"info"})])])])])}}},dt={class:"relative"},ct={key:0,class:"absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-blue-500 border-2 border-white rounded-full -top-2 -end-5 dark:border-gray-900"},ut={key:0},_t={key:1,class:"pt-4"},mt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},vt={key:1},ft={key:1,class:"pt-4"},pt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Rt={__name:"List",props:{reservations:Object,reservation_requests:Object},setup(o){var p;const e=C([{id:"account",route:route("account.index"),label:"Аккаунт"},{id:"reservations",route:route("account.reservations.list"),label:"Мои бронирования"}]),x=F(),d=C(((p=x.props.query)==null?void 0:p.type)??"reservations"),f=c=>{const r=B.stringifyUrl({url:route(route().current()),query:{type:c}},{skipNull:!0});b.visit(r)};return(c,r)=>(s(),_(N,null,{default:m(()=>[l(O,{sm:!0},{default:m(()=>[l(V,{routes:e.value},null,8,["routes"]),l(R,{class:"mt-6",title:"Мои бронирования",subtitle:"Управляйте своими бронированиями"}),l(A,{class:"mt-8"},{default:m(()=>[l(T,{active:d.value==="reservations",onClick:r[0]||(r[0]=a=>f("reservations"))},{default:m(()=>[v("Бронирования")]),_:1},8,["active"]),l(T,{active:d.value==="reservation_requests",onClick:r[1]||(r[1]=a=>f("reservation_requests"))},{default:m(()=>[t("div",dt,[v(" Запросы на бронирование "),o.reservation_requests.data.length?(s(),n("div",ct,i(o.reservation_requests.data.length),1)):y("",!0)])]),_:1},8,["active"])]),_:1}),d.value==="reservations"?(s(),n("div",ut,[o.reservations.data.length?(s(),n("div",_t,[t("div",mt,[(s(!0),n(h,null,L(o.reservations.data,a=>(s(),_(M,{reservation:a},null,8,["reservation"]))),256))])])):(s(),_(j,{key:0,title:"Бронирований пока нет",subtitle:"После выбора объекта он появится здесь для управления оплатой, отменой и тд."}))])):y("",!0),d.value==="reservation_requests"?(s(),n("div",vt,[o.reservation_requests.data.length?(s(),n("div",ft,[t("div",pt,[(s(!0),n(h,null,L(o.reservation_requests.data,a=>(s(),_(lt,{key:a.id,reservation_request:a},null,8,["reservation_request"]))),128))])])):(s(),_(j,{key:0,title:"Бронирований пока нет",subtitle:"После выбора объекта он появится здесь для управления оплатой, отменой и тд."}))])):y("",!0)]),_:1})]),_:1}))}};export{Rt as default};
